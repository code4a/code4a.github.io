<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>蒋彦涛的个人博客</title>
  
  <subtitle>Code 4 Android / ...</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.code4a.com/"/>
  <updated>2018-06-05T02:06:03.772Z</updated>
  <id>http://www.code4a.com/</id>
  
  <author>
    <name>code4a</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Mac下git多用户管理配置</title>
    <link href="http://www.code4a.com/2018/06/05/Mac%E4%B8%8Bgit%E5%A4%9A%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%E9%85%8D%E7%BD%AE/"/>
    <id>http://www.code4a.com/2018/06/05/Mac下git多用户管理配置/</id>
    <published>2018-06-05T01:20:47.000Z</published>
    <updated>2018-06-05T02:06:03.772Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Mac下git多用户管理配置，并且配置Android-Studio正确引用"><a href="#Mac下git多用户管理配置，并且配置Android-Studio正确引用" class="headerlink" title="Mac下git多用户管理配置，并且配置Android Studio正确引用"></a>Mac下git多用户管理配置，并且配置Android Studio正确引用</h2><h3 id="git全局账户邮箱清理，如果没有配置可以忽略这一步"><a href="#git全局账户邮箱清理，如果没有配置可以忽略这一步" class="headerlink" title="git全局账户邮箱清理，如果没有配置可以忽略这一步"></a>git全局账户邮箱清理，如果没有配置可以忽略这一步</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git<span class="built_in"> config </span>--global --unset user.name <span class="string">"username"</span></span><br><span class="line">git<span class="built_in"> config </span>--global --unset user.email <span class="string">"email address"</span></span><br><span class="line">git<span class="built_in"> config </span>--global user.name</span><br><span class="line"><span class="comment">#全局配置账户已经移除</span></span><br><span class="line">git<span class="built_in"> config </span>--global user.email</span><br><span class="line"><span class="comment">#全局配置邮箱已经移除</span></span><br></pre></td></tr></table></figure><h3 id="进入对应的代码仓库配置对应的用户名和邮箱"><a href="#进入对应的代码仓库配置对应的用户名和邮箱" class="headerlink" title="进入对应的代码仓库配置对应的用户名和邮箱"></a>进入对应的代码仓库配置对应的用户名和邮箱</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// github 配置</span></span><br><span class="line">cd github-repository/</span><br><span class="line">git config user<span class="selector-class">.name</span> githubAccount</span><br><span class="line">git config user<span class="selector-class">.email</span> githubEmail</span><br><span class="line"><span class="comment">// 修改后查看配置</span></span><br><span class="line">git config user.name</span><br><span class="line">#githubAccount</span><br><span class="line">git config user.email</span><br><span class="line">#githubEmail</span><br><span class="line"></span><br><span class="line"><span class="comment">// gitlab 配置同上</span></span><br></pre></td></tr></table></figure><h3 id="生成邮箱对应的公钥和私钥"><a href="#生成邮箱对应的公钥和私钥" class="headerlink" title="生成邮箱对应的公钥和私钥"></a>生成邮箱对应的公钥和私钥</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 生成github对应的公钥和私钥</span></span><br><span class="line">ssh-keygen -t rsa -C <span class="string">"github对应的邮箱"</span></span><br><span class="line">Enter <span class="keyword">file</span> <span class="keyword">in</span> <span class="keyword">which</span> to <span class="keyword">save</span> the key (/Users/Accout(你的用户名)/.ssh/id_rsa): id_rsa_github</span><br><span class="line"></span><br><span class="line"><span class="comment">// 生成gitlab对应的公钥和私钥</span></span><br><span class="line">ssh-keygen -t rsa -C <span class="string">"gitlab对应的邮箱"</span></span><br><span class="line">Enter <span class="keyword">file</span> <span class="keyword">in</span> <span class="keyword">which</span> to <span class="keyword">save</span> the key (/Users/Accout(你的用户名)/.ssh/id_rsa): id_rsa_gitlab</span><br></pre></td></tr></table></figure><h3 id="拷贝对应的公钥内容到对应平台的ssh-key"><a href="#拷贝对应的公钥内容到对应平台的ssh-key" class="headerlink" title="拷贝对应的公钥内容到对应平台的ssh key"></a>拷贝对应的公钥内容到对应平台的ssh key</h3><figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// github ssh key 配置</span></span><br><span class="line">cat .ssh/id_rsa_github.pub <span class="comment">// 复制内容</span></span><br><span class="line"><span class="function"><span class="title">settings</span> -&gt;</span> SSH <span class="function"><span class="title">and</span> GPG keys -&gt;</span> New SSH key</span><br><span class="line"></span><br><span class="line"><span class="comment">// gitlab ssh key 配置</span></span><br><span class="line">cat .ssh/id_rsa_gitlab.pub <span class="comment">// 复制内容</span></span><br><span class="line"><span class="function"><span class="title">profile</span> settings -&gt;</span> SSH <span class="function"><span class="title">keys</span> -&gt;</span> Add SSH Key</span><br></pre></td></tr></table></figure><h3 id="在-ssh根目录创建cinfig文件，添加内容"><a href="#在-ssh根目录创建cinfig文件，添加内容" class="headerlink" title="在.ssh根目录创建cinfig文件，添加内容"></a>在.ssh根目录创建cinfig文件，添加内容</h3><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">cd .ssh</span><br><span class="line">vim config</span><br><span class="line"><span class="comment"># github email address</span></span><br><span class="line">Host github</span><br><span class="line">HostName github.com</span><br><span class="line"><span class="keyword">User</span> <span class="title">git</span> // 尝试只有用户名为git时才能测试通过</span><br><span class="line">PreferredAuthentications publickey</span><br><span class="line">IdentityFile ~/.ssh/id_rsa_github</span><br><span class="line"></span><br><span class="line"><span class="comment"># gitlab email address</span></span><br><span class="line">Host gitlab</span><br><span class="line">HostName git.corp.company.cn // 你公司的gitlab地址</span><br><span class="line"><span class="keyword">User</span> <span class="title">git</span></span><br><span class="line">PreferredAuthentications publickey</span><br><span class="line">IdentityFile ~/.ssh/id_rsa_gitlab</span><br></pre></td></tr></table></figure><h3 id="ssh-add-K-私钥名"><a href="#ssh-add-K-私钥名" class="headerlink" title="ssh-add -K 私钥名"></a>ssh-add -K 私钥名</h3><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ssh-<span class="keyword">add</span><span class="bash"> -D // 删除所有密钥，请根据自己的情况执行命令</span></span><br><span class="line"><span class="bash">ssh-add -K id_rsa_github //存储密钥到钥匙串</span></span><br><span class="line"><span class="bash">ssh-add -K id_rsa_gitlab</span></span><br><span class="line"><span class="bash">ssh-add -L // 查看所有公钥参数 -l 查看所有公钥指纹</span></span><br></pre></td></tr></table></figure><h3 id="ssh-vT-git-域名-检测"><a href="#ssh-vT-git-域名-检测" class="headerlink" title="ssh -vT git@域名 检测"></a>ssh -vT git@域名 检测</h3><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 测试github是否配置成功</span></span><br><span class="line">ssh -T github <span class="comment">// github 是 Host 的值，此处可以替换为自己的</span></span><br><span class="line">Hi username! You've successfully authenticated, but GitHub does <span class="keyword">not</span> provide <span class="built_in">shell</span> access.</span><br><span class="line"></span><br><span class="line"><span class="comment">// 测试gitlab是否配置成功</span></span><br><span class="line">ssh -T gitlab <span class="comment">// 同上</span></span><br><span class="line">Welcome to GitLab, username!</span><br></pre></td></tr></table></figure><p><strong>以上如果不通的话，可以通过ssh -vT Host查看log信息</strong></p><h3 id="as中配置git-选择相同版本，-ssh选择native"><a href="#as中配置git-选择相同版本，-ssh选择native" class="headerlink" title="as中配置git 选择相同版本， ssh选择native"></a>as中配置git 选择相同版本， ssh选择native</h3><ul><li>此处如果使用android studio的话需要在设置中进行指定使用的git版本和git配置，因为android stuido会读取自己的配置信息</li><li>修改android stuido的配置</li></ul><figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 修改路径</span></span><br><span class="line">P<span class="function"><span class="title">references</span> -&gt;</span> V<span class="function"><span class="title">ersion</span> Control -&gt;</span> Git </span><br><span class="line"><span class="comment">// 匹配Path to Git executable路径和你命令行的git路径一致</span></span><br><span class="line"><span class="comment">// 修改SSH executable 为Native</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Mac下git多用户管理配置，并且配置Android-Studio正确引用&quot;&gt;&lt;a href=&quot;#Mac下git多用户管理配置，并且配置Android-Studio正确引用&quot; class=&quot;headerlink&quot; title=&quot;Mac下git多用户管理配置，并且配
      
    
    </summary>
    
      <category term="tools" scheme="http://www.code4a.com/categories/tools/"/>
    
    
      <category term="Tools" scheme="http://www.code4a.com/tags/Tools/"/>
    
  </entry>
  
  <entry>
    <title>React Native 问题记录</title>
    <link href="http://www.code4a.com/2018/04/18/react-native-record/"/>
    <id>http://www.code4a.com/2018/04/18/react-native-record/</id>
    <published>2018-04-18T01:59:05.000Z</published>
    <updated>2018-04-18T02:45:40.970Z</updated>
    
    <content type="html"><![CDATA[<h2 id="React-Native开发笔记"><a href="#React-Native开发笔记" class="headerlink" title="React Native开发笔记"></a>React Native开发笔记</h2><blockquote><p>详细的环境配置和文档说明请查看 <strong><a href="https://reactnative.cn/docs/0.51/getting-started.html" target="_blank" rel="noopener">React Native中文文档</a></strong></p></blockquote><h3 id="命令行连接设备"><a href="#命令行连接设备" class="headerlink" title="命令行连接设备"></a>命令行连接设备</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">adb devices <span class="comment">// 查看当前是否连接设备且只能有一个设备</span></span><br><span class="line">adb reverse <span class="string">tcp:</span><span class="number">8081</span> <span class="string">tcp:</span><span class="number">8081</span></span><br></pre></td></tr></table></figure><h3 id="测试安装项目"><a href="#测试安装项目" class="headerlink" title="测试安装项目"></a>测试安装项目</h3><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">react-<span class="keyword">native</span> init ProjectName</span><br><span class="line">cd ProjectName</span><br><span class="line">react-<span class="keyword">native</span> run-android <span class="comment">// 如果是ios 请用react-native  run-ios</span></span><br></pre></td></tr></table></figure><h3 id="文档中的电影示例存在的问题"><a href="#文档中的电影示例存在的问题" class="headerlink" title="文档中的电影示例存在的问题"></a>文档中的电影示例存在的问题</h3><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TypeError: <span class="string">'undefined'</span> <span class="keyword">is</span> <span class="keyword">not</span> an <span class="keyword">object</span> (evaluating <span class="string">'movie.posters.thumbnail'</span>)</span><br></pre></td></tr></table></figure><p><strong>问题待分析</strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;React-Native开发笔记&quot;&gt;&lt;a href=&quot;#React-Native开发笔记&quot; class=&quot;headerlink&quot; title=&quot;React Native开发笔记&quot;&gt;&lt;/a&gt;React Native开发笔记&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;详
      
    
    </summary>
    
      <category term="React Native" scheme="http://www.code4a.com/categories/React-Native/"/>
    
    
      <category term="React Native" scheme="http://www.code4a.com/tags/React-Native/"/>
    
  </entry>
  
  <entry>
    <title>mac环境下使用nvm管理node版本</title>
    <link href="http://www.code4a.com/2018/03/14/node-npm-update/"/>
    <id>http://www.code4a.com/2018/03/14/node-npm-update/</id>
    <published>2018-03-14T01:55:58.000Z</published>
    <updated>2018-03-14T09:41:08.933Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Mac环境下安装node时遇到的问题汇总"><a href="#Mac环境下安装node时遇到的问题汇总" class="headerlink" title="Mac环境下安装node时遇到的问题汇总"></a>Mac环境下安装node时遇到的问题汇总</h2><h5 id="通过brew安装nvm成功后，在zsh命令行输入nvm提示命令找不到"><a href="#通过brew安装nvm成功后，在zsh命令行输入nvm提示命令找不到" class="headerlink" title="通过brew安装nvm成功后，在zsh命令行输入nvm提示命令找不到"></a>通过<code>brew</code>安装<code>nvm</code>成功后，在<code>zsh</code>命令行输入<code>nvm</code>提示命令找不到</h5><blockquote><p>此时需要添加如下配置到<code>.zshrc</code></p></blockquote>  <figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="builtin-name">export</span> <span class="attribute">NVM_DIR</span>=<span class="string">"/Users/username/.nvm"</span></span><br><span class="line">source $(brew --prefix nvm)/nvm.sh</span><br></pre></td></tr></table></figure><p> <strong>注意</strong>：在安装完成<code>nvm</code>后命令行自动提示的追加内容，会导致<code>nvm</code>安装<code>nodejs</code>后不生效的问题，此问题时<code>zsh</code>的一个bug</p><h5 id="通过命令nvm-install-nodeversion-安装完成之后，需要通过如下命令使用"><a href="#通过命令nvm-install-nodeversion-安装完成之后，需要通过如下命令使用" class="headerlink" title="通过命令nvm install (nodeversion)安装完成之后，需要通过如下命令使用"></a>通过命令<code>nvm install (nodeversion)</code>安装完成之后，需要通过如下命令使用</h5>  <figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nvm use (version)</span><br><span class="line">nvm alias<span class="built_in"> default </span>(version)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Mac环境下安装node时遇到的问题汇总&quot;&gt;&lt;a href=&quot;#Mac环境下安装node时遇到的问题汇总&quot; class=&quot;headerlink&quot; title=&quot;Mac环境下安装node时遇到的问题汇总&quot;&gt;&lt;/a&gt;Mac环境下安装node时遇到的问题汇总&lt;/h2&gt;&lt;
      
    
    </summary>
    
      <category term="Tools" scheme="http://www.code4a.com/categories/Tools/"/>
    
    
      <category term="tools" scheme="http://www.code4a.com/tags/tools/"/>
    
  </entry>
  
  <entry>
    <title>百度DuerOS Android平台接入流程</title>
    <link href="http://www.code4a.com/2018/01/31/dueros-android-import/"/>
    <id>http://www.code4a.com/2018/01/31/dueros-android-import/</id>
    <published>2018-01-31T09:00:23.000Z</published>
    <updated>2018-02-01T12:02:43.684Z</updated>
    
    <content type="html"><![CDATA[<h2 id="百度DuerOS接入让App更加智能"><a href="#百度DuerOS接入让App更加智能" class="headerlink" title="百度DuerOS接入让App更加智能"></a>百度DuerOS接入让App更加智能</h2><blockquote><p>DuerOS开放平台是为企业及开发者提供的一整套对话式人工智能解决方案的开放平台</p></blockquote><h4 id="百度DuerOS开发平台官网地址"><a href="#百度DuerOS开发平台官网地址" class="headerlink" title="百度DuerOS开发平台官网地址"></a>百度DuerOS开发平台<a href="http://open.duer.baidu.com/open" target="_blank" rel="noopener">官网地址</a></h4><blockquote><p>平台分为<a href="https://dueros.baidu.com/dbp" target="_blank" rel="noopener">技能开放平台</a>和<a href="http://open.duer.baidu.com/didp/main/index" target="_blank" rel="noopener">智能设备开放平台</a>具体的功能区别以及应用场景可查看网站介绍</p></blockquote><h3 id="注册成为开发者"><a href="#注册成为开发者" class="headerlink" title="注册成为开发者"></a>注册成为开发者</h3><ol><li>如何你有百度账号，则使用百度账号进行<a href="https://passport.baidu.com/v2/?login&amp;u=https%3A%2F%2Fdueros.baidu.com%2Fdidp%2Fmain%2Findex" target="_blank" rel="noopener">登录</a>，如何没有账号，则需要先<a href="https://passport.baidu.com/v2/?reg&amp;tt=1517389947286&amp;overseas=&amp;gid=A8F49B7-66FC-4337-955E-DC518691EF04&amp;tpl=pp&amp;u=https%3A%2F%2Fdueros.baidu.com%2Fdidp%2Fmain%2Findex" target="_blank" rel="noopener">注册</a>百度账号</li><li><a href="https://dueros.baidu.com/didp/register/registerinfo" target="_blank" rel="noopener">进行开发者认证</a>开发者认证分为个人和企业开发者，需要的材料按照网页所需提供，审核材料需要经过两个工作日，审核通过就可以管理技能和设备两个控制台。</li></ol><h3 id="技能平台"><a href="#技能平台" class="headerlink" title="技能平台"></a>技能平台</h3><ol><li>创建新技能</li></ol><blockquote><p>技能平台，包含自定义技能，智能家居技能，内容播报技能</p></blockquote><p><img src="https://raw.githubusercontent.com/code4a/code4a.github.io/master/bimg/dueros-android-import-skill1.png" alt="dueros-android-import-skill1.png"></p><ol><li>管理技能</li></ol><blockquote><p>可以在自己创建的技能上进行编辑/删除/查看技能ID</p></blockquote><ul><li>编辑技能</li></ul><blockquote><p>编辑技能页面可以查看技能的基础信息/交互模型/配置服务/模拟测试/发布上线/版本管理/技能数据功能，其中交互模型需要自己创建意图，定义字典，还可对其进行训练。</p></blockquote><p>交互模型的使用可以查看官方教程进行学习<a href="http://duer.bdstatic.com/saiya/flow/dbp-dst-multidialogue.mp4" target="_blank" rel="noopener">DST多轮对话</a></p><h3 id="设备平台-以下以Android设备为例"><a href="#设备平台-以下以Android设备为例" class="headerlink" title="设备平台(以下以Android设备为例)"></a>设备平台(以下以Android设备为例)</h3><ol><li>配置新设备<ol><li>场景选择为<strong>手机</strong>点击下一步</li><li>操作系统选择为<strong>Android</strong>点击下一步</li><li>此时需要填写设备名称，点击申请<strong>ClientID</strong>，用于后续SDK接入鉴权使用。</li><li>端能力配置，可用于屏幕展示，语音输入输出的配置。点击下一步</li><li>云服务配置，可分为BOT配置，聊天人物肖像的配置，可以将语音机器人进行丰富。语音唤醒服务，自定义控制命令，此时需要提供三个dic文件，用于自定义命令的识别和识别后云平台指令的下发。</li><li><strong><a href="https://github.com/dueros/dcs-sdk-java" target="_blank" rel="noopener">SDK下载</a></strong></li></ol></li><li><p>SDK接入</p><p> SDK的配置可以参考<a href="https://github.com/dueros/dcs-sdk-java/blob/master/README.md" target="_blank" rel="noopener">DCS SDK（Java）开发者指南</a></p></li><li><p>接入SDK添加自定义功能。</p><ol><li><p>首先配置自己设备的云服务自定义控制命令，上传三个dic文件(intent.dic/dict.dic/command.dic)进行审核，需要五个工作日左右。</p><p>intent.dic意图文件将用户的语音命令上传到云平台之后拆分进行意图匹配下发命令</p><p> ai.dueros.device_interface.thirdparty.cmcc.smart_gateway Add [D:add][device][type][W:0-2]<br> ai.dueros.device_interface.thirdparty.cmcc.smart_gateway Remove [D:remove][device][type][W:0-2]<br> ai.dueros.device_interface.thirdparty.cmcc.smart_gateway Bind [D:bind][gateway][W:0-2]<br> ai.dueros.device_interface.thirdparty.cmcc.smart_gateway UnBind [D:unbind][gateway][W:0-2]</p><p>dict.dic词典文件将平台上用户的语音进行分解，解析出用户想要做出的指令</p><p> [D:add]<br> 添加<br> 增加<br> [D:remove]<br> 删除<br> 移除<br> [D:bind]<br> 绑定<br> [D:unbind]<br> 解绑<br> [D:device]<br> 温湿度<br> 水浸<br> 红外人感<br> 门磁<br> 燃气<br> 可燃气体<br> 烟雾感应<br> 声光<br> [D:gateway]<br> 普通网关<br> [D:type]<br> 传感器<br> 感应器</p><p>command.dic用户语言库，用来存储用户可能想要说出的完成控制命令语句</p><p> 添加烟雾感应感应器</p></li><li><p>修改SDK添加自定义的DeviceModule</p><p> <img src="https://raw.githubusercontent.com/code4a/code4a.github.io/master/bimg/dueros-android-import-sdk-devicemodule.png" alt="dueros-android-import-sdk-devicemodule.png"></p><ul><li><p>ApiConstants.java用来匹配自定义的控制命令意图，将用户的话拆分成控制关键词和命令语句</p><pre><code>public class ApiConstants {    public static final String NAMESPACE = &quot;ai.dueros.device_interface.thirdparty.cmcc.smart_gateway&quot;;    public static final String NAME = &quot;SmartGatewayInterface&quot;;    public static final class Events {    }    public static final class Directives {    public static final class Add {        public static final String NAME = Add.class.getSimpleName();    }    public static final class Remove {        public static final String NAME = Remove.class.getSimpleName();    }    public static final class Bind {        public static final String NAME = Bind.class.getSimpleName();    }    public static final class UnBind {        public static final String NAME = UnBind.class.getSimpleName();    }    }}</code></pre></li><li><p>*Payload.java用来接收用户的命令，这两个类需要在<code>framework.message</code>包下的<code>PayloadConfig.java</code>中进行插入，用来解析下发的<code>payload json</code>数据</p></li><li>SmartGatewayDeviceModule.java用来解析命令，并分发下去。</li><li>最后在<code>framework</code>包下的<code>DeviceModuleFactory.java</code>中创建添加我们的Module即可。</li></ul></li></ol></li></ol><h3 id="具体示例可以查看百度Dueros平台Demo"><a href="#具体示例可以查看百度Dueros平台Demo" class="headerlink" title="具体示例可以查看百度Dueros平台Demo"></a>具体示例可以查看<a href="https://github.com/code4a/dcs-sdk-java-master" target="_blank" rel="noopener">百度Dueros平台Demo</a></h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;百度DuerOS接入让App更加智能&quot;&gt;&lt;a href=&quot;#百度DuerOS接入让App更加智能&quot; class=&quot;headerlink&quot; title=&quot;百度DuerOS接入让App更加智能&quot;&gt;&lt;/a&gt;百度DuerOS接入让App更加智能&lt;/h2&gt;&lt;blockquo
      
    
    </summary>
    
      <category term="android" scheme="http://www.code4a.com/categories/android/"/>
    
    
      <category term="Android" scheme="http://www.code4a.com/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>自建服务器证书</title>
    <link href="http://www.code4a.com/2017/12/26/creat-server-certificate/"/>
    <id>http://www.code4a.com/2017/12/26/creat-server-certificate/</id>
    <published>2017-12-26T08:41:22.000Z</published>
    <updated>2018-03-22T09:50:35.801Z</updated>
    
    <content type="html"><![CDATA[<h2 id="生成CA根证书"><a href="#生成CA根证书" class="headerlink" title="生成CA根证书"></a>生成CA根证书</h2><h4 id="此处假设你已经安装好了openssl环境变量，如果没有可以百度一下如何配置。"><a href="#此处假设你已经安装好了openssl环境变量，如果没有可以百度一下如何配置。" class="headerlink" title="此处假设你已经安装好了openssl环境变量，如果没有可以百度一下如何配置。"></a>此处假设你已经安装好了openssl环境变量，如果没有可以百度一下如何配置。</h4><ol><li><p>创建key，通过如下命令生成跟证书<strong>cert_name.key</strong></p> <figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl genrsa -des3 -out /your_cert_dir/cert_name.<span class="type">key</span> <span class="number">2048</span> <span class="comment">//des3 是加密算法，你也可以选择你认为安全的算法</span></span><br></pre></td></tr></table></figure><p> <img src="https://raw.githubusercontent.com/code4a/code4a.github.io/master/bimg/create_root_cert.png" alt="命令行输入之后图示"><br> <br><br> <img src="https://raw.githubusercontent.com/code4a/code4a.github.io/master/bimg/create_root_cert_key1.png" alt="秘钥"><br> <br><br> <strong>私钥</strong> test_root 此时输入的秘钥需要记录，后续自签是需要使用</p></li><li><p>生成CA证书及根证书，并对其进行自签，使用如下命令生成自签证书<strong>crt_name.crt</strong></p> <figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl req -new -x509 -key /your_cert_dir/cert_name<span class="selector-class">.key</span> -out /yout_cert_dir/crt_name<span class="selector-class">.crt</span> -days <span class="number">36500</span> <span class="comment">//x509是一种加密标准，-out是指输出路径，-key是指定私钥，也就是上一步生成的那个，-days是指证书的有效期。</span></span><br></pre></td></tr></table></figure></li></ol><pre><code>* 此时输入前面的cert_name私钥 test_root* 输入country cn * 时区或者省份 beijing * 市 bj* 公司company chinamobile* 部门 terminal* commone name 可以指定自己的名字或者别称，但是不能用服务器的名字 code4a* email jiangyantaodev@163.com</code></pre><h2 id="生成服务端证书"><a href="#生成服务端证书" class="headerlink" title="生成服务端证书"></a>生成服务端证书</h2><ol><li><p>创建server端的私钥</p> <figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl genrsa -des3 -out /your_key_dir/test_server.<span class="type">key</span> <span class="number">2048</span></span><br></pre></td></tr></table></figure><p> <strong>私匙</strong> ser_test_root</p></li><li><p>创建server证书签名请求 (如果需要改ip，则需要从这一步开始设置)</p> <figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl req -<span class="keyword">new</span> -<span class="built_in">key</span> /your_key_dir/test_server.<span class="built_in">key</span> -out /your_key_dir/test_server.csr</span><br></pre></td></tr></table></figure><ul><li>输入私匙 ser_test_root</li><li>输入country cn </li><li>时区或者省份 beijing </li><li>市 bj</li><li>公司company chinamobile</li><li>部门 terminal</li><li><p><strong>注意：</strong>这里的common name,此处填写你的服务器的ip或者域名，例如localhost，也就是你要为哪台服务器做证书就指定那台机器。localhost<br>  <br>或者填写远程服务器ip，如：</p>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">211<span class="selector-class">.136</span><span class="selector-class">.90</span><span class="selector-class">.87</span></span><br><span class="line">192<span class="selector-class">.168</span><span class="selector-class">.1</span><span class="selector-class">.179</span></span><br><span class="line">211<span class="selector-class">.136</span><span class="selector-class">.90</span><span class="selector-class">.53</span></span><br></pre></td></tr></table></figure></li><li><p>email <a href="mailto:jiangyantaodev@163.com" target="_blank" rel="noopener">jiangyantaodev@163.com</a></p></li><li>the following extra attributes to be sent with your certificate request<br>a challenge password ：（挑战密码可以和私匙不一样）123456</li><li>optional company name 可选公司名 code4a</li></ul></li><li><p>root CA签署server证书 </p><ul><li><p>如果是第一次通过CA签署证书的话，执行如下命令把<strong>test_server.crt</strong> 通过自签证书<strong>crt_name.crt</strong> 的认证</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl x509 -req -days <span class="number">36500</span> -<span class="keyword">in</span> /your_key_dir/test_server<span class="selector-class">.csr</span> -CA /your_key_dir/crt_name<span class="selector-class">.crt</span> -CAkey /your_cert_dir/cert_name<span class="selector-class">.key</span> -CAcreateserial -out /your_cert_dir/test_server.crt</span><br></pre></td></tr></table></figure></li></ul></li><li><p>创建server端的pkcs12文件 </p> <figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl pkcs12 -export -<span class="keyword">in</span> /your_cert_dir/test_server<span class="selector-class">.crt</span> -inkey /your_key_dir/test_server<span class="selector-class">.key</span> -out /your_key_dir/test_server<span class="selector-class">.p12</span> -name <span class="number">0927</span>_code4a_caserver_100year</span><br></pre></td></tr></table></figure><p> <strong>注意：</strong>其中的-name 0927_code4a_caserver_100year，这个是指定keystore的别名，记下来，很重要哦（weblogic要用到）</p><ul><li>输入服务器端私匙 ser_test_root</li><li>输入扩展（导出）密码 123456</li><li>确认密码 123456</li></ul></li><li><p>转换pkcs12为JKS keystore文件 </p><ul><li><p>这个过程需要用到jetty.jar，下载相应jar后添加到classpath，然后执行如下命令</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java org<span class="selector-class">.mortbay</span><span class="selector-class">.util</span><span class="selector-class">.PKCS12Import</span> /your_key_dir/test_server<span class="selector-class">.p12</span> /your_key_dir/test_server.jks</span><br></pre></td></tr></table></figure></li><li><p>如果环境变量没有配置好，执行上面语句报错，可以执行本段代码：</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.<span class="built_in">File</span>;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.LineNumberReader;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"><span class="keyword">import</span> java.security.Key;</span><br><span class="line"><span class="keyword">import</span> java.security.KeyStore;</span><br><span class="line"><span class="keyword">import</span> java.security.cert.Certificate;</span><br><span class="line"><span class="keyword">import</span> java.security.cert.X509Certificate;</span><br><span class="line"><span class="keyword">import</span> java.util.Enumeration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> class MyPKCS12Import &#123;</span><br><span class="line"></span><br><span class="line">@SuppressWarnings(<span class="string">"unchecked"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="keyword">String</span>[] args) throws Exception &#123;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//主要修改这里，改成自己刚才生成的.p12文件</span></span><br><span class="line">  <span class="built_in">File</span> fileIn = <span class="keyword">new</span> <span class="built_in">File</span>(<span class="string">"/your_key_dir/test_server.p12"</span>);</span><br><span class="line">  <span class="comment">//主要修改这里，改成自己要输出的位置</span></span><br><span class="line">  <span class="built_in">File</span> fileOut = <span class="keyword">new</span> <span class="built_in">File</span>(<span class="string">"/your_key_dir/test_server.jks"</span>);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">if</span> (!(fileIn.canRead())) &#123;</span><br><span class="line">   System.err.<span class="built_in">println</span>(<span class="string">"Unable to access input keystore: "</span></span><br><span class="line">     + fileIn.getPath());</span><br><span class="line">   System.exit(<span class="number">2</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">if</span> ((fileOut.<span class="built_in">exists</span>()) &amp;&amp; (!(fileOut.canWrite()))) &#123;</span><br><span class="line">   System.err.<span class="built_in">println</span>(<span class="string">"Output file is not writable: "</span></span><br><span class="line">     + fileOut.getPath());</span><br><span class="line">   System.exit(<span class="number">2</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  KeyStore kspkcs12 = KeyStore.getInstance(<span class="string">"pkcs12"</span>);</span><br><span class="line">  KeyStore ksjks = KeyStore.getInstance(<span class="string">"jks"</span>);</span><br><span class="line"></span><br><span class="line">  LineNumberReader in = <span class="keyword">new</span> LineNumberReader(<span class="keyword">new</span> InputStreamReader(</span><br><span class="line">    System.in));</span><br><span class="line">  System.out.<span class="built_in">print</span>(<span class="string">"Enter input keystore passphrase: "</span>);</span><br><span class="line">  <span class="keyword">char</span>[] inphrase = in.readLine().toCharArray();</span><br><span class="line">  System.out.<span class="built_in">print</span>(<span class="string">"Enter output keystore passphrase: "</span>);</span><br><span class="line">  <span class="keyword">char</span>[] outphrase = in.readLine().toCharArray();</span><br><span class="line"></span><br><span class="line">  kspkcs12.load(<span class="keyword">new</span> FileInputStream(fileIn), inphrase);</span><br><span class="line"></span><br><span class="line">  ksjks.load((fileOut.<span class="built_in">exists</span>()) ? <span class="keyword">new</span> FileInputStream(fileOut) : null, outphrase);</span><br><span class="line"></span><br><span class="line">  Enumeration eAliases = kspkcs12.aliases();</span><br><span class="line">  <span class="keyword">int</span> n = <span class="number">0</span>;</span><br><span class="line">  <span class="built_in">while</span> (eAliases.hasMoreElements()) &#123;</span><br><span class="line">   <span class="keyword">String</span> strAlias = (<span class="keyword">String</span>) eAliases.nextElement();</span><br><span class="line">   System.err.<span class="built_in">println</span>(<span class="string">"Alias "</span> + (n++) + <span class="string">": "</span> + strAlias);</span><br><span class="line"></span><br><span class="line">   <span class="built_in">if</span> (kspkcs12.isKeyEntry(strAlias)) &#123;</span><br><span class="line">    System.err.<span class="built_in">println</span>(<span class="string">"Adding key for alias "</span> + strAlias);</span><br><span class="line">    Key key = kspkcs12.<span class="built_in">getKey</span>(strAlias, inphrase);</span><br><span class="line"></span><br><span class="line">    Certificate[] chain = kspkcs12.getCertificateChain(strAlias);</span><br><span class="line"></span><br><span class="line">    ksjks.setKeyEntry(strAlias, key, outphrase, chain);</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  OutputStream out = <span class="keyword">new</span> FileOutputStream(fileOut);</span><br><span class="line">  ksjks.store(out, outphrase);</span><br><span class="line">  out.<span class="built_in">close</span>();</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">static</span> <span class="keyword">void</span> dumpChain(Certificate[] chain) &#123;</span><br><span class="line">  <span class="built_in">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; chain.length; ++i) &#123;</span><br><span class="line">   Certificate cert = chain[i];</span><br><span class="line">   <span class="built_in">if</span> (cert instanceof X509Certificate) &#123;</span><br><span class="line">    X509Certificate x509 = (X509Certificate) chain[i];</span><br><span class="line">    System.err.<span class="built_in">println</span>(<span class="string">"subject: "</span> + x509.getSubjectDN());</span><br><span class="line">    System.err.<span class="built_in">println</span>(<span class="string">"issuer: "</span> + x509.getIssuerDN());</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ol><pre><code>* 代码运行时，让输入    <figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Enter <span class="selector-tag">input</span> keystore passphrase <span class="comment">//第4步输入的导出密码</span></span><br><span class="line"><span class="number">123456</span></span><br><span class="line">Enter output keystore passphrase:</span><br><span class="line"><span class="number">123456</span></span><br></pre></td></tr></table></figure>* 最后输出    <figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Alias</span> <span class="number">0</span>: caserver_10year</span><br><span class="line">Adding <span class="keyword">key</span> <span class="keyword">for</span> <span class="keyword">alias</span> caserver_10year</span><br><span class="line"></span><br><span class="line"><span class="keyword">Alias</span> <span class="number">0</span>: remote_caserver_10year</span><br><span class="line">Adding <span class="keyword">key</span> <span class="keyword">for</span> <span class="keyword">alias</span> remote_caserver_10year</span><br></pre></td></tr></table></figure></code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;生成CA根证书&quot;&gt;&lt;a href=&quot;#生成CA根证书&quot; class=&quot;headerlink&quot; title=&quot;生成CA根证书&quot;&gt;&lt;/a&gt;生成CA根证书&lt;/h2&gt;&lt;h4 id=&quot;此处假设你已经安装好了openssl环境变量，如果没有可以百度一下如何配置。&quot;&gt;&lt;a hr
      
    
    </summary>
    
      <category term="JavaWeb" scheme="http://www.code4a.com/categories/JavaWeb/"/>
    
    
      <category term="JavaWeb" scheme="http://www.code4a.com/tags/JavaWeb/"/>
    
  </entry>
  
  <entry>
    <title>Sublime Text Install Package Control</title>
    <link href="http://www.code4a.com/2017/11/22/sublime-text-install-package-control/"/>
    <id>http://www.code4a.com/2017/11/22/sublime-text-install-package-control/</id>
    <published>2017-11-22T04:47:31.000Z</published>
    <updated>2018-01-31T10:29:05.201Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Sublime-Text-安装Package-Control"><a href="#Sublime-Text-安装Package-Control" class="headerlink" title="Sublime Text 安装Package Control"></a>Sublime Text 安装Package Control</h2><p>输入如下命令</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import urllib.request,<span class="built_in">os</span>; pf = <span class="string">'Package Control.sublime-package'</span>; ipp = sublime.installed_packages_path(); urllib.request.install_opener( urllib.request.build_opener( urllib.request.ProxyHandler()) ); <span class="built_in">open</span>(<span class="built_in">os</span>.<span class="built_in">path</span>.join(ipp, pf), <span class="string">'wb'</span>).<span class="built_in">write</span>(urllib.request.urlopen( <span class="string">'http://sublime.wbond.net/'</span> + pf.replace(<span class="string">' '</span>,<span class="string">'%20'</span>)).<span class="built_in">read</span>())</span><br></pre></td></tr></table></figure><p>提示如下错误</p><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Error </span>loading /Users/xxx/Library/Application Support/Sublime Text 3/Installed Packages/Package Control.sublime-package: File is not a zip file</span><br></pre></td></tr></table></figure><p>此时需要参考<a href="https://packagecontrol.io/installation" target="_blank" rel="noopener">Package Control</a>输入最新的安装命令即可解决该问题</p><ul><li>Sublime Text3</li></ul><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import urllib.request,os,hashlib; h = <span class="string">'6f4c264a24d933ce70df5dedcf1dcaee'</span> + <span class="string">'ebe013ee18cced0ef93d5f746d80ef60'</span>; pf = <span class="string">'Package Control.sublime-package'</span>; ipp = sublime.installed_packages_path(); urllib.request.install_opener( urllib.request.build_opener( urllib.request.ProxyHandler()) ); <span class="keyword">by</span> = urllib.request.urlopen( <span class="string">'http://packagecontrol.io/'</span> + pf.<span class="built_in">replace</span>(<span class="string">' '</span>, <span class="string">'%20'</span>)).<span class="built_in">read</span>(); dh = hashlib.sha256(<span class="keyword">by</span>).hexdigest(); print(<span class="string">'Error validating download (got %s instead of %s), please try manual install'</span> % (dh, h)) <span class="keyword">if</span> dh != h <span class="keyword">else</span> <span class="built_in">open</span>(os.path.join( ipp, pf), <span class="string">'wb'</span> ).<span class="built_in">write</span>(<span class="keyword">by</span>)</span><br></pre></td></tr></table></figure><ul><li>Sublime Text2</li></ul><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import urllib2,<span class="built_in">os</span>,hashlib; h = <span class="string">'6f4c264a24d933ce70df5dedcf1dcaee'</span> + <span class="string">'ebe013ee18cced0ef93d5f746d80ef60'</span>; pf = <span class="string">'Package Control.sublime-package'</span>; ipp = sublime.installed_packages_path(); <span class="built_in">os</span>.makedirs( ipp ) <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">os</span>.<span class="built_in">path</span>.exists(ipp) <span class="keyword">else</span> None; urllib2.install_opener( urllib2.build_opener( urllib2.ProxyHandler()) ); by = urllib2.urlopen( <span class="string">'http://packagecontrol.io/'</span> + pf.replace(<span class="string">' '</span>, <span class="string">'%20'</span>)).<span class="built_in">read</span>(); dh = hashlib.sha256(by).hexdigest(); <span class="built_in">open</span>( <span class="built_in">os</span>.<span class="built_in">path</span>.join( ipp, pf), <span class="string">'wb'</span> ).<span class="built_in">write</span>(by) <span class="keyword">if</span> dh == h <span class="keyword">else</span> None; <span class="built_in">print</span>(<span class="string">'Error validating download (got %s instead of %s), please try manual install'</span> % (dh, h) <span class="keyword">if</span> dh != h <span class="keyword">else</span> <span class="string">'Please restart Sublime Text to finish installation'</span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Sublime-Text-安装Package-Control&quot;&gt;&lt;a href=&quot;#Sublime-Text-安装Package-Control&quot; class=&quot;headerlink&quot; title=&quot;Sublime Text 安装Package Control&quot;&gt;
      
    
    </summary>
    
      <category term="Tools" scheme="http://www.code4a.com/categories/Tools/"/>
    
    
      <category term="tools" scheme="http://www.code4a.com/tags/tools/"/>
    
  </entry>
  
  <entry>
    <title>Vim常用命令记录</title>
    <link href="http://www.code4a.com/2017/11/04/Vim-Command-Used-Record/"/>
    <id>http://www.code4a.com/2017/11/04/Vim-Command-Used-Record/</id>
    <published>2017-11-04T02:24:24.000Z</published>
    <updated>2017-11-04T05:01:28.708Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Vim常用命令"><a href="#Vim常用命令" class="headerlink" title="Vim常用命令"></a>Vim常用命令</h2><blockquote><p>一直在使用<code>Vim</code>编辑文件但是也只是略懂皮毛，只会使用一些简单地命令，操作编辑文件。为了熟练的使用<code>Vim</code>，在使用<code>Vim</code>编辑这篇文章的同时，也进行一些命令的练习和记录，方便以后更加高效的编辑文件。</p></blockquote><h5 id="vi编辑器支持编辑模式和命令模式，编辑模式下可以完成文本的编辑功能，命令模式下可以完成对文件的操作命令，要正确使用vi编辑器就必须熟练掌握两种模式的切换。默认情况下，打开vi编辑器后自动进入命令模式。从编辑模式切换到命令模式使用esc键，从命令模式切换到编辑模式使用A-a-O-o-I-i键。"><a href="#vi编辑器支持编辑模式和命令模式，编辑模式下可以完成文本的编辑功能，命令模式下可以完成对文件的操作命令，要正确使用vi编辑器就必须熟练掌握两种模式的切换。默认情况下，打开vi编辑器后自动进入命令模式。从编辑模式切换到命令模式使用esc键，从命令模式切换到编辑模式使用A-a-O-o-I-i键。" class="headerlink" title="vi编辑器支持编辑模式和命令模式，编辑模式下可以完成文本的编辑功能，命令模式下可以完成对文件的操作命令，要正确使用vi编辑器就必须熟练掌握两种模式的切换。默认情况下，打开vi编辑器后自动进入命令模式。从编辑模式切换到命令模式使用esc键，从命令模式切换到编辑模式使用A,a,O,o,I,i键。"></a>vi编辑器支持<em>编辑模式</em>和<em>命令模式</em>，<em>编辑模式</em>下可以完成文本的编辑功能，<em>命令模式</em>下可以完成对文件的操作命令，要正确使用vi编辑器就必须熟练掌握两种模式的切换。默认情况下，打开vi编辑器后自动进入<em>命令模式</em>。从<em>编辑模式</em>切换到<em>命令模式</em>使用<code>esc</code>键，从<em>命令模式</em>切换到<em>编辑模式</em>使用<code>A</code>,<code>a</code>,<code>O</code>,<code>o</code>,<code>I</code>,<code>i</code>键。</h5><hr><h3 id="命令模式下"><a href="#命令模式下" class="headerlink" title="命令模式下"></a>命令模式下</h3><ul><li><h5 id="游标操作"><a href="#游标操作" class="headerlink" title="游标操作"></a>游标操作</h5></li></ul><table><thead><tr><th>按键</th><th>操作</th></tr></thead><tbody><tr><td> h</td><td>游标向左移动</td></tr><tr><td> j</td><td>游标向下移动</td></tr><tr><td> k</td><td>游标向上移动</td></tr><tr><td> l</td><td>游标向右移动</td></tr><tr><td> w</td><td>向前移动一个单词</td></tr><tr><td> b</td><td>向后移动一个单词</td></tr><tr><td> e</td><td>向前移动一个单词，且游标指向单词的末尾</td></tr><tr><td> (</td><td>移动当前句子的首部</td></tr><tr><td> )</td><td>移动下一个句子的首部</td></tr><tr><td> {</td><td>移动当前段的首部</td></tr><tr><td> }</td><td>移动下一段的首部</td></tr><tr><td> [[</td><td>移到当前区段的首部</td></tr><tr><td> ]]</td><td>移到下一个区段的首部</td></tr><tr><td> 0</td><td>移到当前行的首部</td></tr><tr><td> $</td><td>移到当前行的尾部</td></tr><tr><td> ^</td><td>移到当前行第一个非空白字符的地方</td></tr><tr><td> <code>+</code> or RETURN</td><td>移动到下一行的第一个字符</td></tr><tr><td> <code>-</code></td><td>移动到上一行的第一个字符</td></tr><tr><td> /text</td><td>向下搜索text</td></tr><tr><td> ?text</td><td>向上搜索text</td></tr></tbody></table><ul><li><h5 id="切换编辑模式"><a href="#切换编辑模式" class="headerlink" title="切换编辑模式"></a>切换编辑模式</h5></li></ul><table><thead><tr><th>按键</th><th>操作</th></tr></thead><tbody><tr><td> A</td><td>当前行的尾部追加内容</td></tr><tr><td> i</td><td>游标前插入内容</td></tr><tr><td> I</td><td>游标后插入内容</td></tr><tr><td> o</td><td>在鼠标所在行的下面添加内容</td></tr><tr><td> O</td><td>在鼠标所在行的上面添加内容</td></tr><tr><td> cw</td><td>删除游标所在的字符，然后进入编辑模式</td></tr><tr><td> cc</td><td>删除游标所在的行，然后进入编辑模式</td></tr><tr><td> C</td><td>删除从游标所在的位置到行尾的字符，然后进入编辑模式</td></tr></tbody></table><ul><li><h5 id="内容编辑"><a href="#内容编辑" class="headerlink" title="内容编辑"></a>内容编辑</h5></li></ul><table><thead><tr><th>按键</th><th>操作</th></tr></thead><tbody><tr><td> dd</td><td>删除当前行</td></tr><tr><td> ndd</td><td>删除第n行</td></tr><tr><td> D</td><td>删除当前行游标所在的位置后面的字符</td></tr><tr><td> d}</td><td>删除当前段剩余的字符</td></tr><tr><td> d^</td><td>删除游标前到行首的字符</td></tr><tr><td> dL</td><td>删除从游标到屏幕的最后一行之间的内容</td></tr><tr><td> dG</td><td>删除从游标到文件末尾之间的内容</td></tr><tr><td> u</td><td>撤销最后的改变</td></tr><tr><td> U</td><td>还原当前行的内容</td></tr><tr><td> x</td><td>向后删除游标所在位置的字符</td></tr><tr><td> X</td><td>向前删除游标前面的字符</td></tr><tr><td> nX</td><td>删除前面的n个字符，游标所在的字符将不会被删</td></tr><tr><td> .</td><td>还原最后的改变</td></tr></tbody></table><ul><li><h5 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h5></li></ul><table><thead><tr><th>按键</th><th>操作</th></tr></thead><tbody><tr><td> :w</td><td>写文件</td></tr><tr><td> :w!</td><td>写文件，忽略警告信息</td></tr><tr><td> :w! file</td><td>覆盖文件，忽略警告信息</td></tr><tr><td> :wq</td><td>写文件之后退出编辑</td></tr><tr><td> :q</td><td>退出编辑器</td></tr><tr><td> :q!</td><td>强制退出编辑器</td></tr><tr><td> :w file</td><td>把文件的内容写到另一个文件</td></tr><tr><td> ZZ</td><td>退出编辑器，如果文件有改动，则保存再退出</td></tr><tr><td> :x</td><td>退出编辑器，如果文件有改动，则保存再退出</td></tr><tr><td> :n1,n2w file</td><td>把n1行到n2行间的内容写到文件file</td></tr><tr><td> :n1,n2w &gt;&gt; file</td><td>把n1行到n2行间的内容追加到文件file</td></tr><tr><td> :e file2</td><td>在当前文件的命令行模式下编辑file2</td></tr><tr><td> :e!</td><td>重新从磁盘加载文件</td></tr><tr><td> :e#</td><td>交替编辑文件</td></tr><tr><td> :n</td><td>编辑地下一行</td></tr><tr><td> :n!</td><td>编辑地下一行（忽略警告）</td></tr><tr><td> :r file</td><td>在游标后面插入文件</td></tr><tr><td> :r !command</td><td>在当前行的后面，插入运行命令后的输出内容</td></tr><tr><td> :set number</td><td>最左端显示行号</td></tr><tr><td> :set nonumber</td><td>最左端隐藏行号</td></tr></tbody></table><hr><h3 id="编辑模式"><a href="#编辑模式" class="headerlink" title="编辑模式"></a>编辑模式</h3><blockquote><p>该模式下就是文件的常规编写，输入任意字符进行编辑</p></blockquote><ul><li><h5 id="切换命令模式"><a href="#切换命令模式" class="headerlink" title="切换命令模式"></a>切换命令模式</h5></li></ul><table><thead><tr><th style="text-align:center">按键</th><th style="text-align:center">操作</th></tr></thead><tbody><tr><td style="text-align:center">esc</td><td style="text-align:center">切换为命令模式</td></tr></tbody></table><h5 id="上述命令可进行命令模式下的文件操作"><a href="#上述命令可进行命令模式下的文件操作" class="headerlink" title="上述命令可进行命令模式下的文件操作"></a>上述命令可进行命令模式下的文件操作</h5><h2 id="致谢"><a href="#致谢" class="headerlink" title="致谢"></a>致谢</h2><p><a href="http://man.linuxde.net/vi" target="_blank" rel="noopener">vi命令</a><br><a href="http://www.cnblogs.com/junw_china/articles/1708967.html" target="_blank" rel="noopener">常用vi编辑器命令行</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Vim常用命令&quot;&gt;&lt;a href=&quot;#Vim常用命令&quot; class=&quot;headerlink&quot; title=&quot;Vim常用命令&quot;&gt;&lt;/a&gt;Vim常用命令&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;一直在使用&lt;code&gt;Vim&lt;/code&gt;编辑文件但是也只是略懂皮毛，只会
      
    
    </summary>
    
      <category term="Tools" scheme="http://www.code4a.com/categories/Tools/"/>
    
    
      <category term="tools" scheme="http://www.code4a.com/tags/tools/"/>
    
  </entry>
  
  <entry>
    <title>iTerm2语法高亮配置</title>
    <link href="http://www.code4a.com/2017/11/04/iTerm2-Command-highlighter/"/>
    <id>http://www.code4a.com/2017/11/04/iTerm2-Command-highlighter/</id>
    <published>2017-11-04T02:00:58.000Z</published>
    <updated>2017-11-04T02:18:29.024Z</updated>
    
    <content type="html"><![CDATA[<h2 id="iTerm2-语法高亮"><a href="#iTerm2-语法高亮" class="headerlink" title="iTerm2 语法高亮"></a>iTerm2 语法高亮</h2><h5 id="假如你没有配置过iTerm2可以参考Mac-下-iTerm2的安装及配置完成其安装和配置"><a href="#假如你没有配置过iTerm2可以参考Mac-下-iTerm2的安装及配置完成其安装和配置" class="headerlink" title="假如你没有配置过iTerm2可以参考Mac 下 iTerm2的安装及配置完成其安装和配置"></a>假如你没有配置过<code>iTerm2</code>可以参考<a href="http://www.code4a.com/2017/10/24/iTerm2-install-configuration/">Mac 下 iTerm2的安装及配置</a>完成其安装和配置</h5><blockquote><p>安装完<code>iTerm2</code>发现之前配置过得命令都找不到了，像<code>brew</code>,<code>npm</code>等命令，此时只需要更新一下<code>.bash_profile</code>文件即可</p></blockquote><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">//</span> 打开配置文件</span><br><span class="line">sudo vi <span class="string">.bash_profile</span></span><br><span class="line"><span class="string">//</span> 添加如下路径，保存退出</span><br><span class="line">export PATH=<span class="string">/usr/local/bin</span>:$PATH</span><br><span class="line"><span class="string">//</span> 更新配置</span><br><span class="line">source ~<span class="string">/.bash_profile</span></span><br></pre></td></tr></table></figure><h3 id="语法高亮配置"><a href="#语法高亮配置" class="headerlink" title="语法高亮配置"></a>语法高亮配置</h3><ol><li>使用homebrew安装 zsh-syntax-highlighting 插件。</li></ol><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">brew </span><span class="keyword">install </span>zsh-syntax-highlighting</span><br></pre></td></tr></table></figure><ol><li>配置.zshrc文件，插入一行。</li></ol><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">source</span> <span class="regexp">/usr/</span>local<span class="regexp">/share/</span>zsh-syntax-highlighting<span class="regexp">/zsh-syntax-highlighting.zsh</span></span><br></pre></td></tr></table></figure><ol><li>更新配置</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.zshrc</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;iTerm2-语法高亮&quot;&gt;&lt;a href=&quot;#iTerm2-语法高亮&quot; class=&quot;headerlink&quot; title=&quot;iTerm2 语法高亮&quot;&gt;&lt;/a&gt;iTerm2 语法高亮&lt;/h2&gt;&lt;h5 id=&quot;假如你没有配置过iTerm2可以参考Mac-下-iTerm
      
    
    </summary>
    
      <category term="Tools" scheme="http://www.code4a.com/categories/Tools/"/>
    
    
      <category term="tools" scheme="http://www.code4a.com/tags/tools/"/>
    
  </entry>
  
  <entry>
    <title>zsh: command not found: gradle/adb/..</title>
    <link href="http://www.code4a.com/2017/11/02/zsh-command-not-found-cmd/"/>
    <id>http://www.code4a.com/2017/11/02/zsh-command-not-found-cmd/</id>
    <published>2017-11-02T12:17:31.000Z</published>
    <updated>2017-11-04T02:02:36.179Z</updated>
    
    <content type="html"><![CDATA[<h2 id="iTerm2下命令找不到"><a href="#iTerm2下命令找不到" class="headerlink" title="iTerm2下命令找不到"></a><code>iTerm2</code>下命令找不到</h2><blockquote><p>由于前段时间更新了命令行工具，导致这两天在<code>Android Studio</code>的命令行下找不到<code>adb</code>命令和<code>gradle</code>命令。因为<code>Android Studio</code>的命令行使用的就是默认的命令行工具，导致之前对<code>bash</code>的配置不生效。</p></blockquote><h5 id="如果你出现同样的问题可以参考Mac下command-not-found-gradle-adb终极解决方案这篇文章，可以很好地解决这个问题！"><a href="#如果你出现同样的问题可以参考Mac下command-not-found-gradle-adb终极解决方案这篇文章，可以很好地解决这个问题！" class="headerlink" title="如果你出现同样的问题可以参考Mac下command not found:gradle/adb终极解决方案这篇文章，可以很好地解决这个问题！"></a>如果你出现同样的问题可以参考<a href="http://blog.csdn.net/u010358168/article/details/61924807" target="_blank" rel="noopener">Mac下command not found:gradle/adb终极解决方案</a>这篇文章，可以很好地解决这个问题！</h5><h2 id="zsh-permission-denied-gradlew"><a href="#zsh-permission-denied-gradlew" class="headerlink" title="zsh: permission denied: ./gradlew"></a>zsh: permission denied: ./gradlew</h2><h5 id="在使用命令gradlew提交代码到jCenter时出现zsh-permission-denied-gradlew，第一反应是权限不够，然后再前边添加了sudo命令提高权限，紧接着又出现sudo-gradlew-command-not-found的提示，然后再网上搜索了一下原来是gradlew没有执行权限，因为之前在Terminal终端工具中是经常用的命令，换了iTerm2之后就忘记了是否之前添加过执行权限，真是好记性不如烂笔头，何况我这记性还不好。记录一下这种情况以及所需命令"><a href="#在使用命令gradlew提交代码到jCenter时出现zsh-permission-denied-gradlew，第一反应是权限不够，然后再前边添加了sudo命令提高权限，紧接着又出现sudo-gradlew-command-not-found的提示，然后再网上搜索了一下原来是gradlew没有执行权限，因为之前在Terminal终端工具中是经常用的命令，换了iTerm2之后就忘记了是否之前添加过执行权限，真是好记性不如烂笔头，何况我这记性还不好。记录一下这种情况以及所需命令" class="headerlink" title="在使用命令gradlew提交代码到jCenter时出现zsh: permission denied: ./gradlew，第一反应是权限不够，然后再前边添加了sudo命令提高权限，紧接着又出现sudo: ./gradlew: command not found的提示，然后再网上搜索了一下原来是gradlew没有执行权限，因为之前在Terminal终端工具中是经常用的命令，换了iTerm2之后就忘记了是否之前添加过执行权限，真是好记性不如烂笔头，何况我这记性还不好。记录一下这种情况以及所需命令"></a>在使用命令<code>gradlew</code>提交代码到<code>jCenter</code>时出现<code>zsh: permission denied: ./gradlew</code>，第一反应是权限不够，然后再前边添加了<code>sudo</code>命令提高权限，紧接着又出现<code>sudo: ./gradlew: command not found</code>的提示，然后再网上搜索了一下原来是<code>gradlew</code>没有执行权限，因为之前在<code>Terminal</code>终端工具中是经常用的命令，换了<code>iTerm2</code>之后就忘记了是否之前添加过执行权限，真是好记性不如烂笔头，何况我这记性还不好。记录一下这种情况以及所需命令</h5><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod +<span class="keyword">x</span> gradlew</span><br></pre></td></tr></table></figure><h4 id="为gradlew增加可执行权限"><a href="#为gradlew增加可执行权限" class="headerlink" title="为gradlew增加可执行权限"></a>为<code>gradlew</code>增加可执行权限</h4><h2 id="发布代码到jCenter"><a href="#发布代码到jCenter" class="headerlink" title="发布代码到jCenter"></a>发布代码到jCenter</h2><h5 id="然后再执行发布到jCenter的命令，如果你也是使用的bintray-release的配置，可以使用以下命令。"><a href="#然后再执行发布到jCenter的命令，如果你也是使用的bintray-release的配置，可以使用以下命令。" class="headerlink" title="然后再执行发布到jCenter的命令，如果你也是使用的bintray-release的配置，可以使用以下命令。"></a>然后再执行发布到<a href="https://bintray.com/code4a" target="_blank" rel="noopener">jCenter</a>的命令，如果你也是使用的<a href="https://github.com/novoda/bintray-release" target="_blank" rel="noopener">bintray-release</a>的配置，可以使用以下命令。</h5><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./gradlew clean build bintrayUpload <span class="attribute">-PbintrayUser</span>=BINTRAY_USERNAME <span class="attribute">-PbintrayKey</span>=BINTRAY_KEY <span class="attribute">-PdryRun</span>=<span class="literal">false</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;iTerm2下命令找不到&quot;&gt;&lt;a href=&quot;#iTerm2下命令找不到&quot; class=&quot;headerlink&quot; title=&quot;iTerm2下命令找不到&quot;&gt;&lt;/a&gt;&lt;code&gt;iTerm2&lt;/code&gt;下命令找不到&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;由于前段
      
    
    </summary>
    
      <category term="Tools" scheme="http://www.code4a.com/categories/Tools/"/>
    
    
      <category term="tools" scheme="http://www.code4a.com/tags/tools/"/>
    
  </entry>
  
  <entry>
    <title>Centos7系统安装配置</title>
    <link href="http://www.code4a.com/2017/10/27/centos7-install-config/"/>
    <id>http://www.code4a.com/2017/10/27/centos7-install-config/</id>
    <published>2017-10-27T09:58:21.000Z</published>
    <updated>2017-10-27T10:55:41.243Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Centos-7-Mini安装配置过程"><a href="#Centos-7-Mini安装配置过程" class="headerlink" title="Centos 7 Mini安装配置过程"></a>Centos 7 Mini安装配置过程</h2><blockquote><p>由于工作的需要，出差到外地，需要部署局域网的服务器环境，方便这边环境的测试，安装过程也是几经波折，最终还是将环境部署成功，然后记录一下安装的过程。避免以后安装踩到一些未知的坑。</p></blockquote><h3 id="Centos7-镜像下载"><a href="#Centos7-镜像下载" class="headerlink" title="Centos7 镜像下载"></a>Centos7 镜像下载</h3><ul><li>请前往<a href="https://www.centos.org/download/" target="_blank" rel="noopener">Centos官网的下载页面</a>选择<code>DVD ISO</code>按钮，在我的<code>Mac</code>环境下就是直接启动了迅雷进行下载了，如果没有会进入到二级界面，此时请选择相应的镜像地址进行下载系统镜像</li></ul><h3 id="制作U盘启动盘"><a href="#制作U盘启动盘" class="headerlink" title="制作U盘启动盘"></a>制作U盘启动盘</h3><ul><li>U盘启动盘制作可以参考<a href="https://jingyan.baidu.com/article/49711c614d0971fa451b7c59.html" target="_blank" rel="noopener">这里</a>。 镜像也不需要拷贝到U盘里。我制作的时候有一步不太一样就是在写入之前，点击了<strong>便捷启动</strong> 引导选择 <code>linux</code> 的字样，然后选择写入。后边和链接里类似。</li></ul><h3 id="U盘引导进入安装Centos-7"><a href="#U盘引导进入安装Centos-7" class="headerlink" title="U盘引导进入安装Centos 7"></a>U盘引导进入安装Centos 7</h3><ol><li>如果你安装之前这台主机已经预装了<code>windows</code>系统，需用通过硬盘工具将整个磁盘删除，我当时是用另外一个<code>WinPE</code>的U盘引导进入，通过磁盘工具删除整个盘符，方便在后续安装中<code>Centos</code>安装程序能够识别硬盘。如果你的盘符已经删除或者是<code>Centos</code>可以识别的类型可以忽略这一步。</li><li>进入<code>Centos</code>引导界面，具体的可以参考<a href="http://www.linuxidc.com/Linux/2016-07/133646.htm" target="_blank" rel="noopener">这个链接</a> 的第二步</li></ol><h3 id="安装配置Centos-7"><a href="#安装配置Centos-7" class="headerlink" title="安装配置Centos 7"></a>安装配置Centos 7</h3><ul><li>具体的安装配置过程可以参考<a href="http://www.111cn.net/sys/CentOS/63645.htm" target="_blank" rel="noopener">CentOS 7.0系统安装配置步骤详解</a></li></ul><h5 id="为了big够大，选择安装的都是命令行的系统，命令行大神可以忽略后边的废话。为了配置方便此时需要在自己的个人笔记本上安装XShell工具进行远程连接，进行环境部署，环境部署的过程中可以需要网Centos上拷贝文件，此时还需要安装XFtp工具进行文件的拷贝。后续的数据库操作也需要在电脑上安装数据库操作的客户端Navicat。"><a href="#为了big够大，选择安装的都是命令行的系统，命令行大神可以忽略后边的废话。为了配置方便此时需要在自己的个人笔记本上安装XShell工具进行远程连接，进行环境部署，环境部署的过程中可以需要网Centos上拷贝文件，此时还需要安装XFtp工具进行文件的拷贝。后续的数据库操作也需要在电脑上安装数据库操作的客户端Navicat。" class="headerlink" title="为了big够大，选择安装的都是命令行的系统，命令行大神可以忽略后边的废话。为了配置方便此时需要在自己的个人笔记本上安装XShell工具进行远程连接，进行环境部署，环境部署的过程中可以需要网Centos上拷贝文件，此时还需要安装XFtp工具进行文件的拷贝。后续的数据库操作也需要在电脑上安装数据库操作的客户端Navicat。"></a>为了big够大，选择安装的都是命令行的系统，命令行大神可以忽略后边的废话。为了配置方便此时需要在自己的个人笔记本上安装<code>XShell</code>工具进行远程连接，进行环境部署，环境部署的过程中可以需要网<code>Centos</code>上拷贝文件，此时还需要安装<code>XFtp</code>工具进行文件的拷贝。后续的数据库操作也需要在电脑上安装数据库操作的客户端<code>Navicat</code>。</h5><h5 id="在数据库远程登录的过程中，如果出现-2003-10060-的错误时，可能就是Centos的防火墙未允许远程连接，此时需要修改防火墙配置文件，具体可参考远程连接linux下的mysql-Err1045-Err2003解决办法。"><a href="#在数据库远程登录的过程中，如果出现-2003-10060-的错误时，可能就是Centos的防火墙未允许远程连接，此时需要修改防火墙配置文件，具体可参考远程连接linux下的mysql-Err1045-Err2003解决办法。" class="headerlink" title="在数据库远程登录的过程中，如果出现 2003 # 10060 的错误时，可能就是Centos的防火墙未允许远程连接，此时需要修改防火墙配置文件，具体可参考远程连接linux下的mysql Err1045 Err2003解决办法。"></a>在数据库远程登录的过程中，如果出现 2003 # 10060 的错误时，可能就是<code>Centos</code>的防火墙未允许远程连接，此时需要修改防火墙配置文件，具体可参考<a href="http://www.cnblogs.com/K4Creative/p/5631516.html" target="_blank" rel="noopener">远程连接linux下的mysql Err1045 Err2003解决办法</a>。</h5><h3 id="以上推荐的链接都是在安装过程中搜索大量帖子之后筛选的最终解决问题的链接。以上链接可能符合个人的操作习惯，或者能解决某些问题。希望能有帮助。"><a href="#以上推荐的链接都是在安装过程中搜索大量帖子之后筛选的最终解决问题的链接。以上链接可能符合个人的操作习惯，或者能解决某些问题。希望能有帮助。" class="headerlink" title="以上推荐的链接都是在安装过程中搜索大量帖子之后筛选的最终解决问题的链接。以上链接可能符合个人的操作习惯，或者能解决某些问题。希望能有帮助。"></a>以上推荐的链接都是在安装过程中搜索大量帖子之后筛选的最终解决问题的链接。以上链接可能符合个人的操作习惯，或者能解决某些问题。希望能有帮助。</h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Centos-7-Mini安装配置过程&quot;&gt;&lt;a href=&quot;#Centos-7-Mini安装配置过程&quot; class=&quot;headerlink&quot; title=&quot;Centos 7 Mini安装配置过程&quot;&gt;&lt;/a&gt;Centos 7 Mini安装配置过程&lt;/h2&gt;&lt;bloc
      
    
    </summary>
    
      <category term="Tools" scheme="http://www.code4a.com/categories/Tools/"/>
    
    
      <category term="tools" scheme="http://www.code4a.com/tags/tools/"/>
    
  </entry>
  
  <entry>
    <title>Mac 下 iTerm2的安装及配置</title>
    <link href="http://www.code4a.com/2017/10/24/iTerm2-install-configuration/"/>
    <id>http://www.code4a.com/2017/10/24/iTerm2-install-configuration/</id>
    <published>2017-10-24T05:43:46.000Z</published>
    <updated>2017-10-24T06:28:03.620Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Mac下安装iTerm2以及配色方案"><a href="#Mac下安装iTerm2以及配色方案" class="headerlink" title="Mac下安装iTerm2以及配色方案"></a>Mac下安装iTerm2以及配色方案</h2><blockquote><p>工欲善其事，必先利其器</p></blockquote><p>在好友博客中看到了一个终端工具iTerm2的使用及配色方案，感觉这个工具程序呈现的外观看着很舒服，所以自己也参照他的方案进行了配置，然后在网上搜索到这个工具同时也可以修改Vim的配色，所以就想流程记录了一下，方便日后再次部署是查看。</p><h3 id="iTerm2安装和配色"><a href="#iTerm2安装和配色" class="headerlink" title="iTerm2安装和配色"></a>iTerm2安装和配色</h3><p>参考效果图：<br><img src="https://raw.githubusercontent.com/code4a/code4a.github.io/master/bimg/iTerm2-previews.png" alt="iTerm2效果图"></p><p>具体步骤可参考<a href="http://audiebant.site/" target="_blank" rel="noopener">audiebantzhan</a>的<a href="http://audiebant.site/2016/01/11/iterm2-themes/" target="_blank" rel="noopener">这篇博文</a>可以解决在安装过程中遇到的问题。</p><h3 id="iTerm2-Vim配色"><a href="#iTerm2-Vim配色" class="headerlink" title="iTerm2 Vim配色"></a>iTerm2 Vim配色</h3><p>参考效果图：<br><img src="https://raw.githubusercontent.com/code4a/code4a.github.io/master/bimg/iTerm2-Vim-previews.png" alt="iTerm2-Vim效果图"></p><p>在第一步中配置工具颜色的时候，会下载到最流行的配色解决方案<a href="http://ethanschoonover.com/solarized" target="_blank" rel="noopener">Solarized</a>，Vim 的配色最好和终端的配色保持一致，不然有可能会觉得很别扭，能接受的可以除外。具体流程如下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> solarized</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> vim-colors-solarized/colors</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> mkdir -p ~/.vim/colors</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> cp solarized.vim ~/.vim/colors/</span></span><br></pre></td></tr></table></figure><p>然后需要编辑配置文件</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ vi ~/.vimrc</span><br><span class="line">syntax enable</span><br><span class="line"><span class="builtin-name">set</span> <span class="attribute">background</span>=dark</span><br><span class="line">colorscheme solarized</span><br></pre></td></tr></table></figure><p>关闭重新打开Vim 就可以看到效果</p><h3 id="致谢及内容出处"><a href="#致谢及内容出处" class="headerlink" title="致谢及内容出处"></a>致谢及内容出处</h3><p><a href="http://audiebant.site/2016/01/11/iterm2-themes/" target="_blank" rel="noopener">iTerm2 Configuration</a><br><a href="http://www.cnblogs.com/gslyyq/p/5251331.html" target="_blank" rel="noopener">Mac vim iterm2配色方案</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Mac下安装iTerm2以及配色方案&quot;&gt;&lt;a href=&quot;#Mac下安装iTerm2以及配色方案&quot; class=&quot;headerlink&quot; title=&quot;Mac下安装iTerm2以及配色方案&quot;&gt;&lt;/a&gt;Mac下安装iTerm2以及配色方案&lt;/h2&gt;&lt;blockquo
      
    
    </summary>
    
      <category term="Tools" scheme="http://www.code4a.com/categories/Tools/"/>
    
    
      <category term="tools" scheme="http://www.code4a.com/tags/tools/"/>
    
  </entry>
  
  <entry>
    <title>Beyond Compare for Mac 无限试用方法</title>
    <link href="http://www.code4a.com/2017/10/23/beyond-compare-for-mac-install-free-use/"/>
    <id>http://www.code4a.com/2017/10/23/beyond-compare-for-mac-install-free-use/</id>
    <published>2017-10-23T04:37:44.000Z</published>
    <updated>2017-10-23T09:51:41.062Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Beyond-Compare-For-Mac"><a href="#Beyond-Compare-For-Mac" class="headerlink" title="Beyond Compare For Mac"></a>Beyond Compare For Mac</h2><h3 id="Beyond-Compare-下载试用原理"><a href="#Beyond-Compare-下载试用原理" class="headerlink" title="Beyond Compare 下载试用原理"></a>Beyond Compare 下载试用原理</h3><h4 id="在Beyond-Compare官网下载最新的-Beyond-Compare"><a href="#在Beyond-Compare官网下载最新的-Beyond-Compare" class="headerlink" title="在Beyond Compare官网下载最新的 Beyond Compare"></a>在<a href="http://www.scootersoftware.com/download.php" target="_blank" rel="noopener">Beyond Compare官网</a>下载最新的 Beyond Compare</h4><h5 id="解压后-把-Beyond-Compare-复制到应用程序中，选中图标，右键点击“显示包内容”，逐步进入-Beyond-Compare-应用程序的-MacOS-目录下-Applications-Beyond-Compare-app-Contents-MacOS"><a href="#解压后-把-Beyond-Compare-复制到应用程序中，选中图标，右键点击“显示包内容”，逐步进入-Beyond-Compare-应用程序的-MacOS-目录下-Applications-Beyond-Compare-app-Contents-MacOS" class="headerlink" title="解压后, 把 Beyond Compare 复制到应用程序中，选中图标，右键点击“显示包内容”，逐步进入 Beyond Compare 应用程序的 MacOS 目录下(/Applications/Beyond Compare.app/Contents/MacOS)"></a>解压后, 把 <code>Beyond Compare</code> 复制到应用程序中，选中图标，右键点击“显示包内容”，逐步进入 <code>Beyond Compare</code> 应用程序的 <code>MacOS</code> 目录下(<code>/Applications/Beyond Compare.app/Contents/MacOS</code>)</h5><h5 id="原理："><a href="#原理：" class="headerlink" title="原理："></a>原理：</h5><p><code>BCompare</code> 是应用程序启动的程序. 只要在启动的时候删除 <code>registry.dat</code> (<code>Library/Application Support/Beyond Compare/registry.dat</code>)注册信息就好了.<br>为此可以在该目录下添加一个批处理文件用来处理这个操作.</p><h5 id="具体操作如下"><a href="#具体操作如下" class="headerlink" title="具体操作如下:"></a>具体操作如下:</h5><ol><li>将主启动程序 <code>BCompare</code> 重命名为 <code>BCompare.real</code></li><li><p>在同级目录下新建一个脚本文件,命名为 <code>BCompare</code>,这样 <code>BCompare</code> 在启动的时候就会执行该脚本文件,注意记得 <code>chmod a+x BCompare</code></p><ul><li><p>使用文本编辑工具(如：<code>Sublime Text</code>)新建一个文件，在里面写如下代码，第一行是注明解释器，第二行是删除注册信息，第三行是启动真正的主程序。</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">rm <span class="string">"/Users/<span class="variable">$(whoami)</span>/Library/Application Support/Beyond Compare/registry.dat"</span></span><br><span class="line"><span class="string">"`dirname "</span><span class="variable">$0</span><span class="string">"`"</span>/BCompare.real <span class="variable">$@</span></span><br></pre></td></tr></table></figure></li><li><p>然后保存文件到名称为<code>BCompare.sh</code>到<code>Beyond Compare</code> 应用程序的 <code>MacOS</code> 目录下(<code>/Applications/Beyond Compare.app/Contents/MacOS</code>)</p></li><li>重新打开该文件查看是否有多余内容，如果有删除掉，保存关闭软件，然后选中该文件<code>Command + i</code>显示文件简介，去掉<code>.sh</code>后缀</li><li><p>最后在终端使用 cd 命令进入 <code>MacOS</code> 目录，执行 <code>chmod a+x BCompare</code></p>  <figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> /Applications/Beyond\ <span class="keyword">Compare</span>.<span class="keyword">app</span>/Contents/MacOS/</span><br><span class="line">chmod a+x BCompare</span><br></pre></td></tr></table></figure></li><li><p>这样我们每次打开软件的时候，都会先自动删掉注册信息，也就是永久免费试用了</p></li></ul></li></ol><h2 id="参考致谢"><a href="#参考致谢" class="headerlink" title="参考致谢"></a>参考致谢</h2><p><a href="http://www.seidea.com/" target="_blank" rel="noopener">Seidea</a>的<a href="http://www.seidea.com/2017/03/23/beyond-compare-for-mac-%E6%97%A0%E9%99%90%E8%AF%95%E7%94%A8%E6%96%B9%E6%B3%95/" target="_blank" rel="noopener">Beyond Compare for Mac 无限试用方法</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Beyond-Compare-For-Mac&quot;&gt;&lt;a href=&quot;#Beyond-Compare-For-Mac&quot; class=&quot;headerlink&quot; title=&quot;Beyond Compare For Mac&quot;&gt;&lt;/a&gt;Beyond Compare For M
      
    
    </summary>
    
      <category term="Tools" scheme="http://www.code4a.com/categories/Tools/"/>
    
    
      <category term="tools" scheme="http://www.code4a.com/tags/tools/"/>
    
  </entry>
  
  <entry>
    <title>创建hexo新文章笔记</title>
    <link href="http://www.code4a.com/2017/10/23/create-new-blog-method/"/>
    <id>http://www.code4a.com/2017/10/23/create-new-blog-method/</id>
    <published>2017-10-23T02:50:55.000Z</published>
    <updated>2017-10-23T09:51:34.398Z</updated>
    
    <content type="html"><![CDATA[<h2 id="创建我的新文章"><a href="#创建我的新文章" class="headerlink" title="创建我的新文章"></a>创建我的新文章</h2><blockquote><p>好记性不如烂笔头，好长时间不更新博客了，连更新的流程和方法都忘记了，所以时下记得很清楚的东西，还是要用文本记录下来，方便日后忘记再次查看！</p></blockquote><h3 id="命令行进入到blog文件夹根目录"><a href="#命令行进入到blog文件夹根目录" class="headerlink" title="命令行进入到blog文件夹根目录"></a>命令行进入到blog文件夹根目录</h3><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> 自己的路径<span class="string">/blog/</span></span><br></pre></td></tr></table></figure><h3 id="通过hexo命令创建新博文"><a href="#通过hexo命令创建新博文" class="headerlink" title="通过hexo命令创建新博文"></a>通过hexo命令创建新博文</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">new</span> <span class="string">"博文名称"</span> <span class="comment"><span class="markdown">/<span class="strong">** 创建新的博文 **</span>/</span></span></span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line">hexo <span class="keyword">new</span> post <span class="string">"博文名称"</span></span><br></pre></td></tr></table></figure><h3 id="编辑博文"><a href="#编辑博文" class="headerlink" title="编辑博文"></a>编辑博文</h3><p>通过上边的代码会将新的博文创建在<code>source/_posts/</code> 的文件夹下，然后进入到<code>路径/blog/source/_posts</code>目录下，找到刚刚创建的“博文名称.md”使用 <code>markdown</code>工具进行编辑博客内容。不知道<code>markdow</code>格式的可以参考<a href="http://www.appinn.com/markdown/" target="_blank" rel="noopener">Markdown语法说明</a>对比书写自己的博文</p><h3 id="编辑生成静态博客"><a href="#编辑生成静态博客" class="headerlink" title="编辑生成静态博客"></a>编辑生成静态博客</h3><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line">hexo <span class="keyword">generate</span> <span class="comment">/** 生成一套静态网页 **/</span></span><br></pre></td></tr></table></figure><p>生成的博客内容就在当前路径的 <code>public</code>目录下</p><h3 id="本地预览完整博客内容"><a href="#本地预览完整博客内容" class="headerlink" title="本地预览完整博客内容"></a>本地预览完整博客内容</h3><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line">hexo <span class="keyword">server</span> <span class="comment">/** 在本地建立 Server ，提供访问和浏览 **/</span></span><br></pre></td></tr></table></figure><p>浏览器访问地址 <code>http://0.0.0.0:4000/</code></p><h3 id="上传到github"><a href="#上传到github" class="headerlink" title="上传到github"></a>上传到github</h3><p>可以通过github desktop提交变更到github仓库，等待一会编译通过，新的文章就更新进去了</p><p>也可以通过命令行进行提交。<br>使用BCompare 对比两个目录的差异，进行更新<br>然后通过命令行进行提交</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add . <span class="comment">// # 将所有修改过的工作文件提交暂存区</span></span><br><span class="line">git commit -m “the commit message<span class="string">"</span></span><br><span class="line">git push origin master <span class="meta"># 将本地主分支推到远程主分支</span></span><br></pre></td></tr></table></figure><h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p>更多详细的配置内容可以参考以下链接<br><a href="http://blog.fens.me/hexo-blog-github/" target="_blank" rel="noopener">Hexo在github上构建免费的Web应用</a><br><a href="https://ninghao.net/blog/1412" target="_blank" rel="noopener">使用 Hexo 生成一套静态博客网页</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;创建我的新文章&quot;&gt;&lt;a href=&quot;#创建我的新文章&quot; class=&quot;headerlink&quot; title=&quot;创建我的新文章&quot;&gt;&lt;/a&gt;创建我的新文章&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;好记性不如烂笔头，好长时间不更新博客了，连更新的流程和方法都忘记了，所以时
      
    
    </summary>
    
      <category term="hexo" scheme="http://www.code4a.com/categories/hexo/"/>
    
    
      <category term="hexo" scheme="http://www.code4a.com/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>RxJava Study two</title>
    <link href="http://www.code4a.com/2016/03/16/RxJava-Study-two/"/>
    <id>http://www.code4a.com/2016/03/16/RxJava-Study-two/</id>
    <published>2016-03-16T08:05:53.000Z</published>
    <updated>2017-10-23T09:50:31.688Z</updated>
    
    <summary type="html">
    
    </summary>
    
      <category term="RxJava" scheme="http://www.code4a.com/categories/RxJava/"/>
    
    
      <category term="RxJava" scheme="http://www.code4a.com/tags/RxJava/"/>
    
  </entry>
  
  <entry>
    <title>使用NanoHTTPD在Android上建立本地服务器</title>
    <link href="http://www.code4a.com/2016/03/11/NanoHTTPD-Simple-Use/"/>
    <id>http://www.code4a.com/2016/03/11/NanoHTTPD-Simple-Use/</id>
    <published>2016-03-11T10:22:51.000Z</published>
    <updated>2017-10-23T09:59:02.299Z</updated>
    
    <content type="html"><![CDATA[<h2 id="使用NanoHTTPD在Android上建立本地服务器"><a href="#使用NanoHTTPD在Android上建立本地服务器" class="headerlink" title="使用NanoHTTPD在Android上建立本地服务器"></a>使用NanoHTTPD在Android上建立本地服务器</h2><blockquote><p>因为项目需求，需要在Android端的Service上实现一个简单的服务器，方便客户端发送Http请求，完成对应的自动化流程，<br>通过查阅相关资料，最终决定采用NanoHTTPD</p></blockquote><ul><li><h4 id="NanoHTTPD项目地址"><a href="#NanoHTTPD项目地址" class="headerlink" title="NanoHTTPD项目地址"></a><a href="https://github.com/NanoHttpd/nanohttpd" target="_blank" rel="noopener">NanoHTTPD项目地址</a></h4></li></ul><p>在 <strong><a href="https://github.com/NanoHttpd/nanohttpd/releases" target="_blank" rel="noopener">releases</a></strong> 界面下载nanohttpd-2.2.0.jar导入eclipse的工程中，因为目前的项目是迭代早期的项目，而且也并未往Android Studio上迁移，在AS上的依赖可以参考项目的  <strong><a href="https://github.com/NanoHttpd/nanohttpd/blob/master/README.md" target="_blank" rel="noopener">Readme</a></strong> 进行配置</p><p>使用起来非常的简单，服务端的代码实现如下：</p><h4 id="1-单独的类集成NanoHTTPD"><a href="#1-单独的类集成NanoHTTPD" class="headerlink" title="1. 单独的类集成NanoHTTPD"></a>1. 单独的类集成NanoHTTPD</h4><pre><code>package com.cmcc.receiver.transfer;import java.util.HashMap;import java.util.Map;import java.util.Set;import android.os.Handler;import android.os.Message;import android.text.TextUtils;import android.util.Log;import com.cmcc.receiver.consts.Constants;import fi.iki.elonen.NanoHTTPD;public class WiMoTransferServer extends NanoHTTPD {  public static final int DEFAULT_SERVER_PORT = 8080;  public static final String TAG = WiMoTransferServer.class.getSimpleName();  private static final String NOTHING = &quot;/favicon.ico&quot;;  // ip:8080/cmd=set_interent&amp;target_ssid=WiMO-xxxx&amp;password=12345678  // cmd=set_interent&amp;target_ssid=netgear54&amp;password=11111111  private static final String REQUEST_ROOT = &quot;/&quot;;  private Handler mHander;  public WiMoTransferServer(Handler mHandler) {      super(DEFAULT_SERVER_PORT);      this.mHander = mHandler;  }  @Override  public Response serve(IHTTPSession session) {      // TODO Auto-generated method stub      Log.i(TAG, &quot;IHTTPSession : -&gt; &quot; + session.getMethod() + &quot; , uri : -&gt; &quot; + session.getUri());      Response response = super.serve(session);      String uriStr = session.getUri();      switch (session.getMethod()) {      case GET:          if (NOTHING.equals(uriStr) || REQUEST_ROOT.equals(uriStr)) {              Log.i(TAG, &quot;request url = &quot; + NOTHING);              response = response404(session, uriStr);          } else if (!TextUtils.isEmpty(uriStr) &amp;&amp; uriStr.contains(Constants.EQUAL)) {              Map&lt;String, String&gt; paramsMap = parseURLRequest(uriStr);              checkParamsResult(paramsMap);              String cmdResult = paramsMap.get(Constants.CMD);              Log.i(TAG, &quot; cmdResult -&gt; &quot; + cmdResult);              if (!TextUtils.isEmpty(cmdResult) &amp;&amp; Constants.SETINTERNET.equals(cmdResult)) {                  String targetSSID = paramsMap.get(Constants.TARGETSSID);                  String pwd = paramsMap.get(Constants.PWD);                  Log.i(TAG, &quot;targetSSID = &quot; + targetSSID + &quot; ,password = &quot; + pwd);                  Message msg = mHander.obtainMessage(Constants.MSG_CONNECT_TARGET_AP);                  msg.obj = targetSSID + Constants.SPLIT + pwd;                  mHander.sendMessage(msg);              }              response = responseSuccess();          }          // default:          // Log.i(TAG, &quot;request method is not GET&quot;);          // response = response404(session, uriStr);          // break;      }      return response;  }  public void checkParamsResult(Map&lt;String, String&gt; paramsMap) {      Set&lt;String&gt; keySet = paramsMap.keySet();      for (String key : keySet) {          String value = paramsMap.get(key);          Log.i(TAG, &quot;params_Key: -&gt; &quot; + key + &quot; ,params_Value: -&gt; &quot; + value);      }  }  /**   * 解析出url参数中的键值对 如   * &quot;ip:8080/cmd=set_interent&amp;target_ssid=WiMO-xxxx&amp;password=12345678&quot;，   * 解析出cmd:set_interent,target_ssid:WiMO-xxxx,password:12345678存入map中   *   * @param URL   *            url地址   * @return url请求参数部分   */  public Map&lt;String, String&gt; parseURLRequest(String URL) {      Map&lt;String, String&gt; mapRequest = new HashMap&lt;String, String&gt;();      String[] arrSplit = null;      String strUrlParam = truncateUrlPage(URL);      if (strUrlParam == null) {          return mapRequest;      }      // 每个键值为一组      arrSplit = strUrlParam.split(&quot;[&amp;]&quot;);      for (String strSplit : arrSplit) {          String[] arrSplitEqual = null;          arrSplitEqual = strSplit.split(&quot;[=]&quot;);          // 解析出键值          if (arrSplitEqual.length &gt; 1) {              // 正确解析              mapRequest.put(arrSplitEqual[0], arrSplitEqual[1]);          } else {              if (arrSplitEqual[0] != &quot;&quot;) {                  // 只有参数没有值，不加入                  mapRequest.put(arrSplitEqual[0], &quot;&quot;);              }          }      }      return mapRequest;  }  /**   * 去掉url中的路径，留下请求参数部分   *   * @param strURL   *            url地址   * @return url请求参数部分   */  public String truncateUrlPage(String strURL) {      String strAllParam = null;      String[] arrSplit = null;      strURL = strURL.trim().toLowerCase();      if (strURL.contains(&quot;[?]&quot;)) {          arrSplit = strURL.split(&quot;[?]&quot;);          if (strURL.length() &gt; 1) {              if (arrSplit.length &gt; 1) {                  if (arrSplit[1] != null) {                      strAllParam = arrSplit[1];                  }              }          }      } else if (strURL.startsWith(REQUEST_ROOT)) {          strAllParam = strURL.substring(strURL.indexOf(REQUEST_ROOT) + 1);          Log.i(TAG, &quot; strAllParam substring result : -&gt; &quot; + strAllParam);      } else {          strAllParam = strURL;      }      return strAllParam;  }  public Response responseSuccess() {      StringBuilder builder = new StringBuilder();      builder.append(&quot;&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;body&gt;&quot;);      builder.append(&quot;Success!&quot;);      builder.append(&quot;&lt;/body&gt;&lt;/html&gt;\n&quot;);      return newFixedLengthResponse(builder.toString());  }  public Response response404(IHTTPSession session, String url) {      StringBuilder builder = new StringBuilder();      builder.append(&quot;&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;body&gt;&quot;);      builder.append(&quot;Sorry, Can&apos;t Found &quot; + url + &quot; !&quot;);      builder.append(&quot;&lt;/body&gt;&lt;/html&gt;\n&quot;);      return newFixedLengthResponse(builder.toString());  }}</code></pre><h4 id="2-在service中初始化WiMoTransferServer对象"><a href="#2-在service中初始化WiMoTransferServer对象" class="headerlink" title="2. 在service中初始化WiMoTransferServer对象"></a>2. 在service中初始化WiMoTransferServer对象</h4><pre><code>private void initWebServer() {    mWiMoTransferServer = new WiMoTransferServer(mHandler);    try {        mWiMoTransferServer.start();    } catch (IOException e) {        e.printStackTrace();    }}</code></pre><p>  在需要初始化server的地方调用该方法，在需要停止服务的地方调用</p><pre><code>mWiMoTransferServer.stop();</code></pre><h4 id="3-然后再客户端中通过http请求发送到该服务的ip地址，然后再做详细的处理和响应"><a href="#3-然后再客户端中通过http请求发送到该服务的ip地址，然后再做详细的处理和响应" class="headerlink" title="3. 然后再客户端中通过http请求发送到该服务的ip地址，然后再做详细的处理和响应"></a>3. 然后再客户端中通过http请求发送到该服务的ip地址，然后再做详细的处理和响应</h4>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;使用NanoHTTPD在Android上建立本地服务器&quot;&gt;&lt;a href=&quot;#使用NanoHTTPD在Android上建立本地服务器&quot; class=&quot;headerlink&quot; title=&quot;使用NanoHTTPD在Android上建立本地服务器&quot;&gt;&lt;/a&gt;使用Nan
      
    
    </summary>
    
      <category term="android" scheme="http://www.code4a.com/categories/android/"/>
    
    
      <category term="NanoHTTPD-Android" scheme="http://www.code4a.com/tags/NanoHTTPD-Android/"/>
    
  </entry>
  
  <entry>
    <title>RxJava学习笔记(一)</title>
    <link href="http://www.code4a.com/2016/03/10/RxJava-Study-first/"/>
    <id>http://www.code4a.com/2016/03/10/RxJava-Study-first/</id>
    <published>2016-03-10T15:31:02.000Z</published>
    <updated>2017-10-23T09:50:44.776Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>由于目前工作比较安逸，成了温水青蛙，长期以往的惰性，导致了好多新知识还停留在听过的阶段，作为一个软件工程师来说，这是致命的缺点.<br>为了重拾原有的拼劲和热情，所以自己决定做出改变，就以当下比较流程的RxJava的学习去转变！丰富自己技能的同时，也养成坚持写博客的习惯！</p></blockquote><ul><li><p><strong><a href="https://github.com/ReactiveX/RxJava" target="_blank" rel="noopener">RxJava项目地址</a></strong></p></li><li><p>关于RxJava的简介和优点可以参考</p></li><li><p><strong><a href="http://mrfu.me/android/2015/11/11/Getting_Started_with_RxJava_and_Android/" target="_blank" rel="noopener">RxJava 入门</a></strong></p></li></ul><h3 id="1-准备工作"><a href="#1-准备工作" class="headerlink" title="1.准备工作"></a>1.准备工作</h3><blockquote><p>工欲善其事，必先利其器</p></blockquote><p>  a.首先打开Android Studio创建项目，然后根据RxJava的Readme中描述在AS中的使用方法</p><p>  Example for Gradle:</p><pre><code>compile &apos;io.reactivex:rxjava:x.y.z&apos;</code></pre><p>  b.然后再项目的Module的根目录<code>build.gradle</code>文件中添加项目依赖，查看Github中Release分支中看到的RxJava版本为1.1.1, 所以最终添加的内容</p><pre><code>compile &apos;io.reactivex:rxjava:1.1.1&apos;</code></pre><p>  然后点击上边的出现的 <code>Sync Now</code> 等待依赖下载完成，即准备工作完成</p><h3 id="2-牛刀小试"><a href="#2-牛刀小试" class="headerlink" title="2.牛刀小试"></a>2.牛刀小试</h3><blockquote><p>敲码百变，其义自现</p></blockquote><p>  a.Hello Wrold</p><ul><li><p>先创建Observable</p><pre><code>rx.Observable&lt;String&gt; myObservable = rx.Observable.create(      new rx.Observable.OnSubscribe&lt;String&gt;() {          @Override          public void call(rx.Subscriber&lt;? super String&gt; sub) {              sub.onNext(&quot;Hello, world!&quot;);              sub.onCompleted();          }      });</code></pre></li><li><p>Observable发送“Hello,world!”消息然后完成。接着创建Subscriber来消费这个数据：</p><pre><code>rx.Subscriber&lt;String&gt; mySubscriber = new rx.Subscriber&lt;String&gt;() {    @Override    public void onNext(String s) {        Log.i(TAG, &quot; s -&gt; &quot; + s);    }    @Override    public void onCompleted() {        Log.i(TAG, &quot; onCompleted() &quot;);    }    @Override    public void onError(Throwable e) {    }};</code></pre></li><li><p>上面代码所做的工作就是打印由Observable发送的字符串。现在我们有了myObservable和mySubscriber，就可以通过subscribe()函数把两者关联起来：</p><pre><code>myObservable.subscribe(mySubscriber);</code></pre></li><li><p>当订阅完成，myObservable将调用subscriber的onNext()和onComplete()函数，最终mySubscriber打印“Hello, world!”然后终止。</p><pre><code>03-10 11:55:42.784 4249-4249/com.code4a I/HiddenTitleActivity:  s -&gt; Hello, world!03-10 11:55:42.784 4249-4249/com.code4a I/HiddenTitleActivity:  onCompleted() </code></pre></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;由于目前工作比较安逸，成了温水青蛙，长期以往的惰性，导致了好多新知识还停留在听过的阶段，作为一个软件工程师来说，这是致命的缺点.&lt;br&gt;为了重拾原有的拼劲和热情，所以自己决定做出改变，就以当下比较流程的RxJava的学习去转变！丰富自己技能的同时，
      
    
    </summary>
    
      <category term="RxJava" scheme="http://www.code4a.com/categories/RxJava/"/>
    
    
      <category term="RxJava" scheme="http://www.code4a.com/tags/RxJava/"/>
    
  </entry>
  
  <entry>
    <title>Better Java(一)</title>
    <link href="http://www.code4a.com/2015/11/16/better-java/"/>
    <id>http://www.code4a.com/2015/11/16/better-java/</id>
    <published>2015-11-16T13:04:04.000Z</published>
    <updated>2017-10-23T10:49:06.894Z</updated>
    
    <content type="html"><![CDATA[<h2 id="教你编写现代化的java程式"><a href="#教你编写现代化的java程式" class="headerlink" title="教你编写现代化的java程式"></a>教你编写现代化的java程式</h2><blockquote><p>Java是目前世界上最流行的编程语言之一，自从java8正式发布之后，原有的编程习惯方式发生了一些转变。</p></blockquote><h3 id="Style-样式"><a href="#Style-样式" class="headerlink" title="Style(样式)"></a><strong>Style(样式)</strong></h3><ul><li>传统而言，java是习惯以冗长的javaBean方式定义某个数据对象，新的样式可能会更清晰和保证准确性</li></ul><h4 id="Structs-结构体"><a href="#Structs-结构体" class="headerlink" title="Structs(结构体)"></a>Structs(结构体)</h4><ul><li><h5 id="常规用法"><a href="#常规用法" class="headerlink" title="常规用法"></a>常规用法</h5><pre><code>public class DataBean {  private String data;  public DataBean(){};  public void setData(String data){    this.data = data;  }  public String getData(){    return this.data;  }}</code></pre></li><li><h5 id="不过这种方式是冗长并且浪费资源的，即便你的编辑器能自动生成这种代码。作为替代方法，可以参考C风格里的结构体样式去编写这种容器数据："><a href="#不过这种方式是冗长并且浪费资源的，即便你的编辑器能自动生成这种代码。作为替代方法，可以参考C风格里的结构体样式去编写这种容器数据：" class="headerlink" title="不过这种方式是冗长并且浪费资源的，即便你的编辑器能自动生成这种代码。作为替代方法，可以参考C风格里的结构体样式去编写这种容器数据："></a>不过这种方式是冗长并且浪费资源的，即便你的编辑器能自动生成这种代码。作为替代方法，可以参考<code>C</code>风格里的结构体样式去编写这种容器数据：</h5><pre><code>public class DataBean {    public final String data;    public DataBean(String data) {        this.data = data;    }}</code></pre></li><li><h5 id="这种方式几乎可以使得代码行数减半，除此之外，这种类还是不可变得类，所以在某些情况下我们可以放心的使用它。如果你是希望用Map或者List这些结构体去存储对象而使得修改变得简单点，可以使用ImmuTableMap或者ImmuTableList。这个后边会讨论。"><a href="#这种方式几乎可以使得代码行数减半，除此之外，这种类还是不可变得类，所以在某些情况下我们可以放心的使用它。如果你是希望用Map或者List这些结构体去存储对象而使得修改变得简单点，可以使用ImmuTableMap或者ImmuTableList。这个后边会讨论。" class="headerlink" title="这种方式几乎可以使得代码行数减半，除此之外，这种类还是不可变得类，所以在某些情况下我们可以放心的使用它。如果你是希望用Map或者List这些结构体去存储对象而使得修改变得简单点，可以使用ImmuTableMap或者ImmuTableList。这个后边会讨论。"></a>这种方式几乎可以使得代码行数减半，除此之外，这种类还是不可变得类，所以在某些情况下我们可以放心的使用它。如果你是希望用Map或者List这些结构体去存储对象而使得修改变得简单点，可以使用ImmuTableMap或者ImmuTableList。这个后边会讨论。</h5></li></ul><h4 id="Builder模式"><a href="#Builder模式" class="headerlink" title="Builder模式"></a>Builder模式</h4><ul><li><h5 id="如果你的数据元结构比较复杂，那么你可以考虑如下Builder模式。Builder模式在数据类构造器中定义了一个子类，使用可变状态，不过一旦创建之后就会变得不可改变："><a href="#如果你的数据元结构比较复杂，那么你可以考虑如下Builder模式。Builder模式在数据类构造器中定义了一个子类，使用可变状态，不过一旦创建之后就会变得不可改变：" class="headerlink" title="如果你的数据元结构比较复杂，那么你可以考虑如下Builder模式。Builder模式在数据类构造器中定义了一个子类，使用可变状态，不过一旦创建之后就会变得不可改变："></a>如果你的数据元结构比较复杂，那么你可以考虑如下Builder模式。Builder模式在数据类构造器中定义了一个子类，使用可变状态，不过一旦创建之后就会变得不可改变：</h5><pre><code>public class ComplicatedDataBean {    public final String data;    public fianl int num;    // lots more fields and a constructor    private ComplicatedDataBean(Builder builder){        this.data = builder.data;        this.num = builder.num;    }    public static class Builder {        private String data;        private int num;        public Builder data(String data) {            this.data = data;            return this;        }        public Builder num(int num){            this.num = num;            return this;        }        public ComplicatedDataBean build(){            return new ComplicatedDataBean(this); // etc        }    }}</code></pre></li><li><h5 id="然后可以按照如下方式使用："><a href="#然后可以按照如下方式使用：" class="headerlink" title="然后可以按照如下方式使用："></a>然后可以按照如下方式使用：</h5><pre><code>final ComplicatedDataBean cda = new ComplicatedDataBean.builder().data(&quot;她已经&quot;).num(22).build();</code></pre></li></ul><h4 id="Dependency-Injection-依赖注入"><a href="#Dependency-Injection-依赖注入" class="headerlink" title="Dependency Injection(依赖注入)"></a>Dependency Injection(依赖注入)</h4><ul><li><h5 id="依赖注入更多的从属于软件工程的范畴而并非java的范畴，但是去撰写可测试的软件的最好方式就是使用依赖注入。因为java强烈推荐OO的设计方式，为了使软件具有较好的可测试性，可以去使用依赖注入。"><a href="#依赖注入更多的从属于软件工程的范畴而并非java的范畴，但是去撰写可测试的软件的最好方式就是使用依赖注入。因为java强烈推荐OO的设计方式，为了使软件具有较好的可测试性，可以去使用依赖注入。" class="headerlink" title="依赖注入更多的从属于软件工程的范畴而并非java的范畴，但是去撰写可测试的软件的最好方式就是使用依赖注入。因为java强烈推荐OO的设计方式，为了使软件具有较好的可测试性，可以去使用依赖注入。"></a>依赖注入更多的从属于软件工程的范畴而并非java的范畴，但是去撰写可测试的软件的最好方式就是使用依赖注入。因为java强烈推荐OO的设计方式，为了使软件具有较好的可测试性，可以去使用依赖注入。</h5></li><li><h5 id="在java领域，最经典的DI框架当属Spring，它提供了基于代码的注入以及基于xml配置的注入方式。不过Spring确实有些繁琐，如果只是单纯的想使用依赖注入这个功能，可以选择使用Google-和-Square的Dagger库或者Google’s-Guice"><a href="#在java领域，最经典的DI框架当属Spring，它提供了基于代码的注入以及基于xml配置的注入方式。不过Spring确实有些繁琐，如果只是单纯的想使用依赖注入这个功能，可以选择使用Google-和-Square的Dagger库或者Google’s-Guice" class="headerlink" title="在java领域，最经典的DI框架当属Spring，它提供了基于代码的注入以及基于xml配置的注入方式。不过Spring确实有些繁琐，如果只是单纯的想使用依赖注入这个功能，可以选择使用Google 和 Square的Dagger库或者Google’s Guice."></a>在java领域，最经典的DI框架当属Spring，它提供了基于代码的注入以及基于xml配置的注入方式。不过Spring确实有些繁琐，如果只是单纯的想使用依赖注入这个功能，可以选择使用Google 和 Square的Dagger库或者Google’s Guice.</h5></li></ul><h4 id="避免空指针"><a href="#避免空指针" class="headerlink" title="避免空指针"></a>避免空指针</h4><ul><li><h5 id="尽可能的避免使用空指针。特别是在可能返回空的集合的情况下，务必返回一个内容为空的集合而不是null。如果使用的是java8，可以使用新的Optional类型来避免可能的空指针。"><a href="#尽可能的避免使用空指针。特别是在可能返回空的集合的情况下，务必返回一个内容为空的集合而不是null。如果使用的是java8，可以使用新的Optional类型来避免可能的空指针。" class="headerlink" title="尽可能的避免使用空指针。特别是在可能返回空的集合的情况下，务必返回一个内容为空的集合而不是null。如果使用的是java8，可以使用新的Optional类型来避免可能的空指针。"></a>尽可能的避免使用空指针。特别是在可能返回空的集合的情况下，务必返回一个内容为空的集合而不是null。如果使用的是java8，可以使用新的Optional类型来避免可能的空指针。</h5><pre><code>public class FooWidget {    private final String data;    private final Optional&lt;Bar&gt; bar;    public FooWidget(String data){        this(data, Optional.empty());    }    public FooWidget(String data, Optional&lt;Bar&gt; bar){        this.data = data;        this.bar = bar;    }    public Optional&lt;Bar&gt; getBar(){        return bar;    }}</code></pre></li><li><h5 id="根据上述代码可知道，返回的数据肯定不会为null类型，不过bar不一定是present-存在-的"><a href="#根据上述代码可知道，返回的数据肯定不会为null类型，不过bar不一定是present-存在-的" class="headerlink" title="根据上述代码可知道，返回的数据肯定不会为null类型，不过bar不一定是present(存在)的"></a>根据上述代码可知道，返回的数据肯定不会为null类型，不过bar不一定是present(存在)的</h5><pre><code>final Optional&lt;FooWidget&gt; fooWidget = maybeGetFooWidget();final Baz baz = fooWidget.flatMap(FooWidget::getBar).flatMap(BarWidget::getBaz).orElse(defaultBaz);</code></pre></li></ul><h4 id="ImmuTable-by-default-默认不可变"><a href="#ImmuTable-by-default-默认不可变" class="headerlink" title="ImmuTable-by-default(默认不可变)"></a>ImmuTable-by-default(默认不可变)</h4><blockquote><p>java-advantages-of-of-immutable-objects-in-examples</p></blockquote><ul><li><h5 id="除非有特殊的原因，否则变量，类，集合应该默认设置为不可变。其中变量类型可以使用final关键字设置不可变："><a href="#除非有特殊的原因，否则变量，类，集合应该默认设置为不可变。其中变量类型可以使用final关键字设置不可变：" class="headerlink" title="除非有特殊的原因，否则变量，类，集合应该默认设置为不可变。其中变量类型可以使用final关键字设置不可变："></a>除非有特殊的原因，否则变量，类，集合应该默认设置为不可变。其中变量类型可以使用final关键字设置不可变：</h5><pre><code>final FooWidget fooWidget;if(condition()){    fooWidget = getWidget();}else{    try{        fooWidget = cachedFooWidget.get();    }catch(CachingException e){        throw e;    }}</code></pre><p><img src="https://raw.githubusercontent.com/code4a/code4a.github.io/master/bimg/better-java-picture1.png" alt="ImmuTable-by-default"></p></li></ul><h4 id="Avoid-lots-of-Util-Classes-避免使用大量工具类"><a href="#Avoid-lots-of-Util-Classes-避免使用大量工具类" class="headerlink" title="Avoid lots of Util Classes(避免使用大量工具类)"></a>Avoid lots of Util Classes(避免使用大量工具类)</h4><ul><li><h5 id="一不注意，就会发现自己写了N多的工具类，譬如："><a href="#一不注意，就会发现自己写了N多的工具类，譬如：" class="headerlink" title="一不注意，就会发现自己写了N多的工具类，譬如："></a>一不注意，就会发现自己写了N多的工具类，譬如：</h5><pre><code>public class MiscUtil {  public static String frobnicateString(String base, int times){  // ... etc  }}</code></pre></li></ul><p><img src="https://raw.githubusercontent.com/code4a/code4a.github.io/master/bimg/better-java-picture2.png" alt="ImmuTable-by-default"></p><pre><code>public interface Thrower {    default void throwIfCondition(boolean condition, String msg) {        // ...    }}</code></pre><ul><li><h5 id="这样每个需要使用这些接口的类可以方便的进行自定义"><a href="#这样每个需要使用这些接口的类可以方便的进行自定义" class="headerlink" title="这样每个需要使用这些接口的类可以方便的进行自定义"></a>这样每个需要使用这些接口的类可以方便的进行自定义</h5></li></ul><h4 id="格式化"><a href="#格式化" class="headerlink" title="格式化"></a>格式化</h4><p><img src="https://raw.githubusercontent.com/code4a/code4a.github.io/master/bimg/better-java-picture3.png" alt="ImmuTable-by-default"></p><h4 id="javaDoc"><a href="#javaDoc" class="headerlink" title="javaDoc"></a>javaDoc</h4><ul><li><h5 id="为你的代码添加javaDoc同样非常重要，可以参考这个示例：using-examples"><a href="#为你的代码添加javaDoc同样非常重要，可以参考这个示例：using-examples" class="headerlink" title="为你的代码添加javaDoc同样非常重要，可以参考这个示例：using examples"></a>为你的代码添加javaDoc同样非常重要，可以参考这个示例：using examples</h5></li></ul><h4 id="Streams"><a href="#Streams" class="headerlink" title="Streams"></a>Streams</h4><ul><li><h5 id="java-8-提供了非常nice的-stream-api可以用如下的写法："><a href="#java-8-提供了非常nice的-stream-api可以用如下的写法：" class="headerlink" title="java 8 提供了非常nice的 stream api可以用如下的写法："></a>java 8 提供了非常nice的 stream api可以用如下的写法：</h5><pre><code>final List&lt;String&gt; filtered = list.stream().filter(s-&gt;s.startsWith(&quot;s&quot;)).map(s-&gt;s.toUpperCase()).collect(Collectors.toList());</code></pre></li><li><h5 id="来替代："><a href="#来替代：" class="headerlink" title="来替代："></a>来替代：</h5><pre><code>final List&lt;String&gt; filtered = new ArrayList&lt;&gt;();for (String str : list){    if(str.startsWith(&quot;s&quot;)){        filtered.add(str.toUpperCase());    }}</code></pre></li><li><h5 id="这样可以帮助你写更多的高可读性，流畅性的代码。"><a href="#这样可以帮助你写更多的高可读性，流畅性的代码。" class="headerlink" title="这样可以帮助你写更多的高可读性，流畅性的代码。"></a>这样可以帮助你写更多的高可读性，流畅性的代码。</h5></li></ul><h2 id="本文来自：SegmentFault-版权归属原作者"><a href="#本文来自：SegmentFault-版权归属原作者" class="headerlink" title="本文来自：SegmentFault 版权归属原作者"></a>本文来自：SegmentFault 版权归属原作者</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;教你编写现代化的java程式&quot;&gt;&lt;a href=&quot;#教你编写现代化的java程式&quot; class=&quot;headerlink&quot; title=&quot;教你编写现代化的java程式&quot;&gt;&lt;/a&gt;教你编写现代化的java程式&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;Java是目前世界
      
    
    </summary>
    
      <category term="java" scheme="http://www.code4a.com/categories/java/"/>
    
    
      <category term="java编程思想" scheme="http://www.code4a.com/tags/java%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3/"/>
    
  </entry>
  
  <entry>
    <title>WheelView Android</title>
    <link href="http://www.code4a.com/2015/11/15/WheelView-Android/"/>
    <id>http://www.code4a.com/2015/11/15/WheelView-Android/</id>
    <published>2015-11-15T08:42:11.000Z</published>
    <updated>2017-10-23T09:58:49.068Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Android-横向滚轮选择视图"><a href="#Android-横向滚轮选择视图" class="headerlink" title="Android 横向滚轮选择视图"></a>Android 横向滚轮选择视图</h2><h4 id="适用于为money-或者短词名称做选择器"><a href="#适用于为money-或者短词名称做选择器" class="headerlink" title="适用于为money 或者短词名称做选择器"></a>适用于为money 或者短词名称做选择器</h4><h4 id="先上图，效果图："><a href="#先上图，效果图：" class="headerlink" title="先上图，效果图："></a>先上图，效果图：</h4><p><img src="https://raw.githubusercontent.com/lantouzi/WheelView-Android/master/preview/demo.jpg" alt="WheelView"></p><h4 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h4><h5 id="布局xml："><a href="#布局xml：" class="headerlink" title="布局xml："></a>布局xml：</h5><p>  <strong>注意在父布局加入<code>xmlns:app=&quot;http://schemas.android.com/apk/res-auto</code>“可使用自定义属性</strong></p><pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;ScrollView  xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;  android:layout_width=&quot;match_parent&quot;  android:layout_height=&quot;match_parent&quot;&gt;  &lt;LinearLayout    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;    xmlns:tools=&quot;http://schemas.android.com/tools&quot;    android:layout_width=&quot;match_parent&quot;    android:layout_height=&quot;wrap_content&quot;    android:background=&quot;#fafafa&quot;    android:orientation=&quot;vertical&quot;    android:weightSum=&quot;2&quot;    tools:context=&quot;.MainActivity&quot;&gt;    &lt;LinearLayout      android:layout_width=&quot;wrap_content&quot;      android:layout_height=&quot;0dp&quot;      android:layout_weight=&quot;1&quot;      android:orientation=&quot;vertical&quot;&gt;      &lt;com.lantouzi.wheelview.WheelView        android:id=&quot;@+id/wheelview&quot;        android:layout_width=&quot;match_parent&quot;        android:layout_height=&quot;wrap_content&quot;        android:layout_marginTop=&quot;8dp&quot;        android:background=&quot;@android:color/white&quot;/&gt;      &lt;com.lantouzi.wheelview.WheelView        android:id=&quot;@+id/wheelview2&quot;        android:layout_width=&quot;match_parent&quot;        android:layout_height=&quot;wrap_content&quot;        android:layout_marginTop=&quot;8dp&quot;        android:background=&quot;@android:color/white&quot;        app:lwvHighlightColor=&quot;#7CD717&quot;        app:lwvIntervalFactor=&quot;1.1&quot;/&gt;      &lt;com.lantouzi.wheelview.WheelView        android:id=&quot;@+id/wheelview3&quot;        android:layout_width=&quot;match_parent&quot;        android:layout_height=&quot;wrap_content&quot;        android:layout_marginTop=&quot;8dp&quot;        android:background=&quot;@android:color/white&quot;        app:lwvHighlightColor=&quot;#31B1E6&quot;        app:lwvIntervalFactor=&quot;1.3&quot;        app:lwvMarkRatio=&quot;0.2&quot;        app:lwvMarkTextColor=&quot;#919191&quot;/&gt;    &lt;/LinearLayout&gt;    &lt;com.lantouzi.wheelview.WheelView      android:id=&quot;@+id/wheelview4&quot;      android:layout_width=&quot;match_parent&quot;      android:layout_height=&quot;wrap_content&quot;      android:layout_marginTop=&quot;16dp&quot;      android:background=&quot;#222222&quot;      app:lwvAdditionalCenterMark=&quot;元&quot;      app:lwvHighlightColor=&quot;#31B1E6&quot;      app:lwvMarkColor=&quot;#EEEEEE&quot;      app:lwvMarkTextColor=&quot;#CACACA&quot;/&gt;    &lt;com.lantouzi.wheelview.WheelView      android:id=&quot;@+id/wheelview5&quot;      android:layout_width=&quot;match_parent&quot;      android:layout_height=&quot;wrap_content&quot;      android:layout_marginTop=&quot;16dp&quot;      android:background=&quot;#222222&quot;      app:lwvAdditionalCenterMark=&quot;元&quot;      app:lwvCenterMarkTextSize=&quot;14sp&quot;      app:lwvCursorSize=&quot;10dp&quot;      app:lwvHighlightColor=&quot;#31B1E6&quot;      app:lwvMarkColor=&quot;#EEEEEE&quot;      app:lwvMarkTextColor=&quot;#CACACA&quot;      app:lwvMarkTextSize=&quot;12sp&quot;/&gt;    &lt;TextView      android:id=&quot;@+id/selected_tv&quot;      android:layout_width=&quot;match_parent&quot;      android:layout_height=&quot;wrap_content&quot;      android:layout_margin=&quot;8dp&quot;      android:gravity=&quot;center&quot;/&gt;  &lt;/LinearLayout&gt;&lt;/ScrollView&gt;</code></pre><h4 id="Activity中实现"><a href="#Activity中实现" class="headerlink" title="Activity中实现:"></a>Activity中实现:</h4><pre><code>  private WheelView mWheelView, mWheelView2, mWheelView3, mWheelView4, mWheelView5;  private TextView mSelectedTv;  @Override  protected void onCreate(Bundle savedInstanceState) {    super.onCreate(savedInstanceState);    setContentView(R.layout.activity_main);    mWheelView = (WheelView) findViewById(R.id.wheelview);    mWheelView2 = (WheelView) findViewById(R.id.wheelview2);    mWheelView3 = (WheelView) findViewById(R.id.wheelview3);    mWheelView4 = (WheelView) findViewById(R.id.wheelview4);    mWheelView5 = (WheelView) findViewById(R.id.wheelview5);    mSelectedTv = (TextView) findViewById(R.id.selected_tv);    final List&lt;String&gt; items = new ArrayList&lt;&gt;();    for (int i = 1; i &lt;= 40; i++) {      items.add(String.valueOf(i * 1000));    }    mWheelView.setItems(items);    mWheelView.selectIndex(8);    mWheelView.setAdditionCenterMark(&quot;元&quot;);    List&lt;String&gt; items2 = new ArrayList&lt;&gt;();    items2.add(&quot;一月&quot;);    items2.add(&quot;二月&quot;);    items2.add(&quot;三月&quot;);    items2.add(&quot;四月&quot;);    items2.add(&quot;五月&quot;);    items2.add(&quot;六月&quot;);    items2.add(&quot;七月&quot;);    items2.add(&quot;八月&quot;);    items2.add(&quot;九月&quot;);    items2.add(&quot;十月&quot;);    items2.add(&quot;十一月&quot;);    items2.add(&quot;十二月&quot;);    mWheelView2.setItems(items2);    List&lt;String&gt; items3 = new ArrayList&lt;&gt;();    items3.add(&quot;1&quot;);    items3.add(&quot;2&quot;);    items3.add(&quot;3&quot;);    items3.add(&quot;5&quot;);    items3.add(&quot;7&quot;);    items3.add(&quot;11&quot;);    items3.add(&quot;13&quot;);    items3.add(&quot;17&quot;);    items3.add(&quot;19&quot;);    items3.add(&quot;23&quot;);    items3.add(&quot;29&quot;);    items3.add(&quot;31&quot;);    mWheelView3.setItems(items3);    mWheelView3.setAdditionCenterMark(&quot;m&quot;);    mWheelView4.setItems(items);    mWheelView5.setItems(items);    mWheelView5.setOnWheelItemSelectedListener(new WheelView.OnWheelItemSelectedListener() {      @Override      public void onWheelItemSelected(int position) {        mSelectedTv.setText(&quot;选择：&quot; + items.get(position) + &quot;万&quot;);      }    });}</code></pre><h4 id="引用的wheelview"><a href="#引用的wheelview" class="headerlink" title="引用的wheelview"></a>引用的wheelview</h4><h5 id="attrs-xml"><a href="#attrs-xml" class="headerlink" title="attrs.xml"></a>attrs.xml</h5><pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;resources&gt;  &lt;declare-styleable name=&quot;WheelView&quot;&gt;    &lt;attr name=&quot;lwvHighlightColor&quot; format=&quot;color|reference&quot;/&gt;    &lt;attr name=&quot;lwvMarkColor&quot; format=&quot;color|reference&quot;/&gt;    &lt;attr name=&quot;lwvMarkTextColor&quot; format=&quot;color|reference&quot;/&gt;    &lt;attr name=&quot;lwvIntervalFactor&quot; format=&quot;float&quot;/&gt;    &lt;attr name=&quot;lwvMarkRatio&quot; format=&quot;float&quot;/&gt;    &lt;attr name=&quot;lwvCursorSize&quot; format=&quot;dimension&quot;/&gt;    &lt;attr name=&quot;lwvMarkTextSize&quot; format=&quot;dimension&quot;/&gt;    &lt;attr name=&quot;lwvCenterMarkTextSize&quot; format=&quot;dimension&quot;/&gt;    &lt;attr name=&quot;lwvHighlightMarkTextSize&quot; format=&quot;dimension&quot;/&gt;    &lt;attr name=&quot;lwvAdditionalCenterMark&quot; format=&quot;string|reference&quot;/&gt;  &lt;/declare-styleable&gt;&lt;/resources&gt;</code></pre><h5 id="自定义视图WheelView"><a href="#自定义视图WheelView" class="headerlink" title="自定义视图WheelView"></a>自定义视图WheelView</h5><pre><code>package com.lantouzi.wheelview;import android.content.Context;import android.content.res.TypedArray;import android.graphics.Canvas;import android.graphics.Paint;import android.graphics.Path;import android.graphics.Rect;import android.graphics.RectF;import android.os.Parcel;import android.os.Parcelable;import android.support.v4.view.GestureDetectorCompat;import android.support.v4.view.ViewCompat;import android.text.TextPaint;import android.text.TextUtils;import android.util.AttributeSet;import android.view.GestureDetector;import android.view.MotionEvent;import android.view.SoundEffectConstants;import android.view.View;import android.widget.OverScroller;import com.lantouzi.wheelview.library.R;import java.util.List;/*** Created by kyle on 15/11/9.*/public class WheelView extends View implements GestureDetector.OnGestureListener {  public static final float DEFAULT_INTERVAL_FACTOR = 1.2f;  public static final float DEFAULT_MARK_RATIO = 0.7f;  private Paint mMarkPaint;  private TextPaint mMarkTextPaint;  private int mCenterIndex;  private int mHighlightColor, mMarkTextColor;  private int mMarkColor, mFadeMarkColor;  private int mHeight;  private List&lt;String&gt; mItems;  private String mAdditionCenterMark;  private OnWheelItemSelectedListener mOnWheelItemSelectedListener;  private float mIntervalFactor = DEFAULT_INTERVAL_FACTOR;  private float mMarkRatio = DEFAULT_MARK_RATIO;  private int mMarkCount;  private float mAdditionCenterMarkWidth;  private Path mCenterIndicatorPath = new Path();  private float mCursorSize;  private int mViewScopeSize;  // scroll control args ---- start  private OverScroller mScroller;  private float mMaxOverScrollDistance;  private RectF mContentRectF;  private boolean mFling = false;  private float mCenterTextSize, mNormalTextSize;  private float mTopSpace, mBottomSpace;  private float mIntervalDis;  private float mCenterMarkWidth, mMarkWidth;  private GestureDetectorCompat mGestureDetectorCompat;  // scroll control args ---- end  public WheelView(Context context) {    super(context);    init(null);  }  public WheelView(Context context, AttributeSet attrs) {    super(context, attrs);    init(attrs);  }  public WheelView(Context context, AttributeSet attrs, int defStyleAttr) {    super(context, attrs, defStyleAttr);    init(attrs);  }  protected void init(AttributeSet attrs) {    float density = getResources().getDisplayMetrics().density;    mCenterMarkWidth = (int) (density * 1.5f + 0.5f);    mMarkWidth = density;    mHighlightColor = 0xFFF74C39;    mMarkTextColor = 0xFF666666;    mMarkColor = 0xFFEEEEEE;    mCursorSize = density * 18;    mCenterTextSize = density * 22;    mNormalTextSize = density * 18;    mBottomSpace = density * 6;    TypedArray ta = attrs == null ? null : getContext().obtainStyledAttributes(attrs, R.styleable.WheelView);    if (ta != null) {      mHighlightColor = ta.getColor(R.styleable.WheelView_lwvHighlightColor, mHighlightColor);      mMarkTextColor = ta.getColor(R.styleable.WheelView_lwvMarkTextColor, mMarkTextColor);      mMarkColor = ta.getColor(R.styleable.WheelView_lwvMarkColor, mMarkColor);      mIntervalFactor = ta.getFloat(R.styleable.WheelView_lwvIntervalFactor, mIntervalFactor);      mMarkRatio = ta.getFloat(R.styleable.WheelView_lwvMarkRatio, mMarkRatio);      mAdditionCenterMark = ta.getString(R.styleable.WheelView_lwvAdditionalCenterMark);      mCenterTextSize = ta.getDimension(R.styleable.WheelView_lwvCenterMarkTextSize, mCenterTextSize);      mNormalTextSize = ta.getDimension(R.styleable.WheelView_lwvMarkTextSize, mNormalTextSize);      mCursorSize = ta.getDimension(R.styleable.WheelView_lwvCursorSize, mCursorSize);    }    mFadeMarkColor = mHighlightColor &amp; 0xAAFFFFFF;    mIntervalFactor = Math.max(1, mIntervalFactor);    mMarkRatio = Math.min(1, mMarkRatio);    mTopSpace = mCursorSize + density * 2;    mMarkPaint = new Paint(Paint.ANTI_ALIAS_FLAG);    mMarkTextPaint = new TextPaint(Paint.ANTI_ALIAS_FLAG);    mMarkTextPaint.setTextAlign(Paint.Align.CENTER);    mMarkTextPaint.setColor(mHighlightColor);    mMarkPaint.setColor(mMarkColor);    mMarkPaint.setStrokeWidth(mCenterMarkWidth);    mMarkTextPaint.setTextSize(mCenterTextSize);    calcIntervalDis();    mScroller = new OverScroller(getContext());    mContentRectF = new RectF();    mGestureDetectorCompat = new GestureDetectorCompat(getContext(), this);    selectIndex(0);  }  /**   * calculate interval distance between items   */  private void calcIntervalDis() {    if (mMarkTextPaint == null) {      return;    }    String defaultText = &quot;888888&quot;;    Rect temp = new Rect();    int max = 0;    if (mItems != null &amp;&amp; mItems.size() &gt; 0) {      for (String i : mItems) {        mMarkTextPaint.getTextBounds(i, 0, i.length(), temp);        if (temp.width() &gt; max) {          max = temp.width();        }      }    } else {      mMarkTextPaint.getTextBounds(defaultText, 0, defaultText.length(), temp);      max = temp.width();    }    if (!TextUtils.isEmpty(mAdditionCenterMark)) {      mMarkTextPaint.setTextSize(mNormalTextSize);      mMarkTextPaint.getTextBounds(mAdditionCenterMark, 0, mAdditionCenterMark.length(), temp);      mAdditionCenterMarkWidth = temp.width();      max += temp.width();    }    mIntervalDis = max * mIntervalFactor;  }  @Override  protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {    setMeasuredDimension(measureWidth(widthMeasureSpec), measureHeight(heightMeasureSpec));  }  private int measureWidth(int widthMeasureSpec) {    int measureMode = MeasureSpec.getMode(widthMeasureSpec);    int measureSize = MeasureSpec.getSize(widthMeasureSpec);    int result = getSuggestedMinimumWidth();    switch (measureMode) {      case MeasureSpec.AT_MOST:      case MeasureSpec.EXACTLY:        result = measureSize;        break;      default:        break;    }    return result;  }  private int measureHeight(int heightMeasure) {    int measureMode = MeasureSpec.getMode(heightMeasure);    int measureSize = MeasureSpec.getSize(heightMeasure);    int result = (int) (mBottomSpace + mTopSpace * 2 + mCenterTextSize);    switch (measureMode) {      case MeasureSpec.EXACTLY:        result = Math.max(result, measureSize);        break;      case MeasureSpec.AT_MOST:        result = Math.min(result, measureSize);        break;      default:        break;    }    return result;  }  public void fling(int velocityX, int velocityY) {    mScroller.fling(getScrollX(), getScrollY(), velocityX, velocityY, (int) -mMaxOverScrollDistance, (int) (mContentRectF.width() - mMaxOverScrollDistance), 0, 0, (int) mMaxOverScrollDistance, 0);    ViewCompat.postInvalidateOnAnimation(this);  }  @Override  protected void onSizeChanged(int w, int h, int oldw, int oldh) {    super.onSizeChanged(w, h, oldw, oldh);    if (w != oldw || h != oldh) {      mHeight = h;      mMaxOverScrollDistance = w / 2.f;      mContentRectF.set(0, 0, (mMarkCount - 1) * mIntervalDis, h);      mViewScopeSize = (int) Math.ceil(mMaxOverScrollDistance / mIntervalDis);    }  }  @Override  protected void onDraw(Canvas canvas) {    super.onDraw(canvas);    mCenterIndicatorPath.reset();    float sizeDiv2 = mCursorSize / 2f;    float sizeDiv3 = mCursorSize / 3f;    mCenterIndicatorPath.moveTo(mMaxOverScrollDistance - sizeDiv2 + getScrollX(), 0);    mCenterIndicatorPath.rLineTo(0, sizeDiv3);    mCenterIndicatorPath.rLineTo(sizeDiv2, sizeDiv2);    mCenterIndicatorPath.rLineTo(sizeDiv2, -sizeDiv2);    mCenterIndicatorPath.rLineTo(0, -sizeDiv3);    mCenterIndicatorPath.close();    mMarkPaint.setColor(mHighlightColor);    canvas.drawPath(mCenterIndicatorPath, mMarkPaint);    int start = mCenterIndex - mViewScopeSize;    int end = mCenterIndex + mViewScopeSize + 1;    start = Math.max(start, -mViewScopeSize * 2);    end = Math.min(end, mMarkCount + mViewScopeSize * 2);    // extends both ends    if (mCenterIndex == mMarkCount - 1) {      end += mViewScopeSize;    } else if (mCenterIndex == 0) {      start -= mViewScopeSize;    }    float x = start * mIntervalDis;    float markHeight =  mHeight - mBottomSpace - mCenterTextSize - mTopSpace;    // small scale Y offset    float smallMarkShrinkY = markHeight * (1 - mMarkRatio) / 2f;    smallMarkShrinkY = Math.min((markHeight - mMarkWidth) / 2f, smallMarkShrinkY);    for (int i = start; i &lt; end; i++) {      float tempDis = mIntervalDis / 5f;      // offset: Small mark offset Big mark      for (int offset = -2; offset &lt; 3; offset++) {        float ox = x + offset * tempDis;        if (i &gt;= 0 &amp;&amp; i &lt;= mMarkCount &amp;&amp; mCenterIndex == i) {          int tempOffset = Math.abs(offset);          if (tempOffset == 0) {            mMarkPaint.setColor(mHighlightColor);          } else if (tempOffset == 1) {            mMarkPaint.setColor(mFadeMarkColor);          } else {            mMarkPaint.setColor(mMarkColor);          }        } else {          mMarkPaint.setColor(mMarkColor);        }        if (offset == 0) {          // center mark          mMarkPaint.setStrokeWidth(mCenterMarkWidth);          canvas.drawLine(ox, mTopSpace, ox, mTopSpace + markHeight, mMarkPaint);        } else {          // other small mark          mMarkPaint.setStrokeWidth(mMarkWidth);          canvas.drawLine(ox, mTopSpace + smallMarkShrinkY, ox, mTopSpace + markHeight - smallMarkShrinkY, mMarkPaint);        }      }      // mark text      if (mMarkCount &gt; 0 &amp;&amp; i &gt;= 0 &amp;&amp; i &lt; mMarkCount) {        CharSequence temp = mItems.get(i);        if (mCenterIndex == i) {          mMarkTextPaint.setColor(mHighlightColor);          mMarkTextPaint.setTextSize(mCenterTextSize);          if (!TextUtils.isEmpty(mAdditionCenterMark)) {            float off = mAdditionCenterMarkWidth / 2f;            float tsize = mMarkTextPaint.measureText(temp, 0, temp.length());            canvas.drawText(temp, 0, temp.length(), x - off, mHeight - mBottomSpace, mMarkTextPaint);            mMarkTextPaint.setTextSize(mNormalTextSize);            canvas.drawText(mAdditionCenterMark, x + tsize / 2f, mHeight - mBottomSpace, mMarkTextPaint);          } else {            canvas.drawText(temp, 0, temp.length(), x, mHeight - mBottomSpace, mMarkTextPaint);          }        } else {          mMarkTextPaint.setColor(mMarkTextColor);          mMarkTextPaint.setTextSize(mNormalTextSize);          canvas.drawText(temp, 0, temp.length(), x, mHeight - mBottomSpace, mMarkTextPaint);        }      }      x += mIntervalDis;    }  }  @Override  public boolean onTouchEvent(MotionEvent event) {    if (mItems == null || mItems.size() == 0) {      return false;    }    boolean ret = mGestureDetectorCompat.onTouchEvent(event);    if (!mFling &amp;&amp; MotionEvent.ACTION_UP == event.getAction()) {      if (getScrollX() &lt; -mMaxOverScrollDistance) {        mScroller.startScroll(getScrollX(), 0, (int) -mMaxOverScrollDistance - getScrollX(), 0);        invalidate();        ret = true;      } else if (getScrollX() &gt; mContentRectF.width() - mMaxOverScrollDistance) {        mScroller.startScroll(getScrollX(), 0, (int) (mContentRectF.width() - mMaxOverScrollDistance) - getScrollX(), 0);        invalidate();        ret = true;      } else {        autoSettle();        ret = true;      }    }    return ret || super.onTouchEvent(event);  }  @Override  public void computeScroll() {    super.computeScroll();    if (mScroller.computeScrollOffset()) {      scrollTo(mScroller.getCurrX(), mScroller.getCurrY());      refreshCenter();      invalidate();    } else {      if (mFling) {        mFling = false;        autoSettle();      }    }  }  public void setAdditionCenterMark(String additionCenterMark) {    mAdditionCenterMark = additionCenterMark;    calcIntervalDis();    invalidate();  }  private void autoSettle() {    int sx = getScrollX();    float dx = mCenterIndex * mIntervalDis - sx - mMaxOverScrollDistance;    mScroller.startScroll(sx, 0, (int) dx, 0);    invalidate();  }  private void refreshCenter(int offsetX) {    int offset = (int) (offsetX + mMaxOverScrollDistance);    mCenterIndex = Math.round(offset / mIntervalDis);    if (mCenterIndex &lt; 0) {      mCenterIndex = 0;    } else if (mCenterIndex &gt; mMarkCount - 1) {      mCenterIndex = mMarkCount - 1;    }    if (null != mOnWheelItemSelectedListener) {      mOnWheelItemSelectedListener.onWheelItemSelected(mCenterIndex);    }  }  private void refreshCenter() {    refreshCenter(getScrollX());  }  public void selectIndex(int index) {    mCenterIndex = index;    post(new Runnable() {      @Override      public void run() {        scrollTo((int) (mCenterIndex * mIntervalDis - mMaxOverScrollDistance), 0);        invalidate();        refreshCenter();      }    });  }  public void smoothSelectIndex(int index) {    if (!mScroller.isFinished()) {      mScroller.abortAnimation();    }    int deltaIndex = index - mCenterIndex;    mScroller.startScroll(getScrollX(), 0, (int) (deltaIndex * mIntervalDis), 0);    invalidate();  }  public List&lt;String&gt; getItems() {    return mItems;  }  public void setItems(List&lt;String&gt; items) {    mItems = items;    mMarkCount = null == mItems ? 0 : mItems.size();    mCenterIndex = Math.min(mCenterIndex, mMarkCount);    calcIntervalDis();    invalidate();  }  public int getSelectedPosition() {    return mCenterIndex;  }  public void setOnWheelItemSelectedListener(OnWheelItemSelectedListener onWheelItemSelectedListener) {    mOnWheelItemSelectedListener = onWheelItemSelectedListener;  }  @Override  public boolean onDown(MotionEvent e) {    if (!mScroller.isFinished()) {      mScroller.forceFinished(false);    }    mFling = false;    if (null != getParent()) {      getParent().requestDisallowInterceptTouchEvent(true);    }    return true;  }  @Override  public void onShowPress(MotionEvent e) {  }  @Override  public boolean onSingleTapUp(MotionEvent e) {    playSoundEffect(SoundEffectConstants.CLICK);    refreshCenter((int) (getScrollX() + e.getX() - mMaxOverScrollDistance));    autoSettle();    return true;  }  @Override  public void onLongPress(MotionEvent e) {  }  @Override  public boolean onScroll(MotionEvent e1, MotionEvent e2, float distanceX, float distanceY) {    float dis = distanceX;    float scrollX = getScrollX();    if (scrollX &lt; 2 * -mMaxOverScrollDistance) {      dis = 0;    } else if (scrollX &lt; -mMaxOverScrollDistance) {      dis = distanceX / 4.f;    } else if (scrollX &gt; mContentRectF.width()) {      dis = 0;    } else if (scrollX &gt; mContentRectF.width() - mMaxOverScrollDistance) {      dis = distanceX / 4.f;    }    scrollBy((int) dis, 0);    refreshCenter();    return true;  }  @Override  public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX, float velocityY) {    float scrollX = getScrollX();    if (scrollX &lt; -mMaxOverScrollDistance || scrollX &gt; mContentRectF.width() - mMaxOverScrollDistance) {      return false;    } else {      mFling = true;      fling((int) -velocityX, 0);      return true;    }  }  @Override  public Parcelable onSaveInstanceState() {    Parcelable superState = super.onSaveInstanceState();    SavedState ss = new SavedState(superState);    ss.index = getSelectedPosition();    return ss;  }  @Override  public void onRestoreInstanceState(Parcelable state) {    SavedState ss = (SavedState) state;    super.onRestoreInstanceState(ss.getSuperState());    selectIndex(ss.index);    requestLayout();  }  static class SavedState extends BaseSavedState {    int index;    public static final Parcelable.Creator&lt;SavedState&gt; CREATOR        = new Parcelable.Creator&lt;SavedState&gt;() {      public SavedState createFromParcel(Parcel in) {        return new SavedState(in);      }      public SavedState[] newArray(int size) {        return new SavedState[size];      }    };    SavedState(Parcelable superState) {      super(superState);    }    private SavedState(Parcel in) {      super(in);      index = (int) in.readValue(null);    }    @Override    public void writeToParcel(Parcel out, int flags) {      super.writeToParcel(out, flags);      out.writeValue(index);    }    @Override    public String toString() {      return &quot;WheelView.SavedState{&quot;          + Integer.toHexString(System.identityHashCode(this))          + &quot; index=&quot; + index + &quot;}&quot;;    }  }  public interface OnWheelItemSelectedListener {    void onWheelItemSelected(int position);  }}</code></pre><h2 id="致谢："><a href="#致谢：" class="headerlink" title="致谢："></a>致谢：</h2><p>  <a href="https://github.com/lantouzi/WheelView-Android" target="_blank" rel="noopener">lantouzi的WheelView-Android</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Android-横向滚轮选择视图&quot;&gt;&lt;a href=&quot;#Android-横向滚轮选择视图&quot; class=&quot;headerlink&quot; title=&quot;Android 横向滚轮选择视图&quot;&gt;&lt;/a&gt;Android 横向滚轮选择视图&lt;/h2&gt;&lt;h4 id=&quot;适用于为money
      
    
    </summary>
    
      <category term="Android View" scheme="http://www.code4a.com/categories/Android-View/"/>
    
    
      <category term="Android" scheme="http://www.code4a.com/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>添加网易云音乐</title>
    <link href="http://www.code4a.com/2015/11/13/music-163/"/>
    <id>http://www.code4a.com/2015/11/13/music-163/</id>
    <published>2015-11-12T16:44:45.000Z</published>
    <updated>2017-10-23T10:48:21.984Z</updated>
    
    <content type="html"><![CDATA[<h3 id="为个人博客添加网易云音乐"><a href="#为个人博客添加网易云音乐" class="headerlink" title="为个人博客添加网易云音乐"></a>为个人博客添加网易云音乐</h3><h4 id="首先进入到网易云音乐"><a href="#首先进入到网易云音乐" class="headerlink" title="首先进入到网易云音乐"></a>首先进入到<a href="http://music.163.com/" target="_blank" rel="noopener">网易云音乐</a></h4><h4 id="然后可以创建新的歌单，也可使用已有的歌单"><a href="#然后可以创建新的歌单，也可使用已有的歌单" class="headerlink" title="然后可以创建新的歌单，也可使用已有的歌单"></a>然后可以创建新的歌单，也可使用已有的歌单</h4><p><img src="https://raw.githubusercontent.com/code4a/code4a.github.io/master/bimg/music-163-picture1.png" alt="music-163-picture1"></p><h4 id="点击生成外链播放器，调整如下图界面"><a href="#点击生成外链播放器，调整如下图界面" class="headerlink" title="点击生成外链播放器，调整如下图界面"></a>点击生成外链播放器，调整如下图界面</h4><p><img src="https://raw.githubusercontent.com/code4a/code4a.github.io/master/bimg/music-163-picture2.png" alt="music-163-picture2"></p><h4 id="复制下边的html代码直接粘贴到markdown文件中即可"><a href="#复制下边的html代码直接粘贴到markdown文件中即可" class="headerlink" title="复制下边的html代码直接粘贴到markdown文件中即可"></a>复制下边的html代码直接粘贴到markdown文件中即可</h4><p><img src="https://raw.githubusercontent.com/code4a/code4a.github.io/master/bimg/music-163-picture3.png" alt="music-163-picture3"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;为个人博客添加网易云音乐&quot;&gt;&lt;a href=&quot;#为个人博客添加网易云音乐&quot; class=&quot;headerlink&quot; title=&quot;为个人博客添加网易云音乐&quot;&gt;&lt;/a&gt;为个人博客添加网易云音乐&lt;/h3&gt;&lt;h4 id=&quot;首先进入到网易云音乐&quot;&gt;&lt;a href=&quot;#首先进
      
    
    </summary>
    
      <category term="play" scheme="http://www.code4a.com/categories/play/"/>
    
    
      <category term="hexo" scheme="http://www.code4a.com/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>Hexo + github创建个人博客</title>
    <link href="http://www.code4a.com/2015/11/12/hexo-help-page/"/>
    <id>http://www.code4a.com/2015/11/12/hexo-help-page/</id>
    <published>2015-11-11T16:11:45.000Z</published>
    <updated>2017-10-23T09:51:29.294Z</updated>
    
    <content type="html"><![CDATA[<h2 id="在Mac上安装hexo打造个人博客"><a href="#在Mac上安装hexo打造个人博客" class="headerlink" title="在Mac上安装hexo打造个人博客"></a>在Mac上安装hexo打造个人博客</h2><blockquote><p>我起初用的是jekyll ＋ github pages的方式建立个人博客，也是一直用的这种方式维护，<br>略微有些强迫症的我总觉得这种方式不是很满意，而且整个主题也是修改的<br><a href="http://yongyuan.name" target="_blank" rel="noopener">http://yongyuan.name</a>的模版，其中大部分细节自己也不是很清楚该怎么处理<br>，所以并不是很适合自己的style。后来看到啦 <strong><a href="http://www.aswifter.com/" target="_blank" rel="noopener">阳春面</a></strong> 的博客觉得主题和模版<br>都很棒，并且在手机上也可以自适应，非常的棒，所以就一眼相中啦，刚好这段时间，我又将自己的<a href="https://github.com/code4s" target="_blank" rel="noopener">github</a>的用户名改了一下<br>，导致原有的博客也无法使用，所以就直接用了 <strong><a href="http://www.aswifter.com/" target="_blank" rel="noopener">阳春面</a></strong> 的这种方式重新建立个人博客</p></blockquote><h4 id="问题一：安装node-js"><a href="#问题一：安装node-js" class="headerlink" title="问题一：安装node.js"></a>问题一：安装node.js</h4><h5 id="根据-Hexo官方文档-进行配置遇到了一些问题，在此做些纪录避免再次遇到时还需要花费大量时间去搜索问题。"><a href="#根据-Hexo官方文档-进行配置遇到了一些问题，在此做些纪录避免再次遇到时还需要花费大量时间去搜索问题。" class="headerlink" title="根据 Hexo官方文档 进行配置遇到了一些问题，在此做些纪录避免再次遇到时还需要花费大量时间去搜索问题。"></a>根据 <strong><a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">Hexo官方文档</a></strong> 进行配置遇到了一些问题，在此做些纪录避免再次遇到时还需要花费大量时间去搜索问题。</h5><blockquote><p>文档中通过nvm的方式安装node.js 而安装nvm的两种方式curl和wget尝试均失败啦，第一种是下载依赖总是失败，<br>第二种wget这个前提需要安装wget，而wget也是需要提前安装一些依赖，尝试好久，还是失败。最后没办法直接<br>从 <strong><a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node.js</a></strong> 网站下载pkg进行安装，此时node 和 npm 都成功安装，省去不少麻烦。</p></blockquote><h4 id="问题二：安装hexo"><a href="#问题二：安装hexo" class="headerlink" title="问题二：安装hexo"></a>问题二：安装hexo</h4><h5 id="此时使用-npm-install-g-hexo-cli-会出现权限相关的问题，根据出现的问题google，baidu给出的方案都是无法解决"><a href="#此时使用-npm-install-g-hexo-cli-会出现权限相关的问题，根据出现的问题google，baidu给出的方案都是无法解决" class="headerlink" title="此时使用 npm install -g hexo-cli 会出现权限相关的问题，根据出现的问题google，baidu给出的方案都是无法解决"></a>此时使用 <code>npm install -g hexo-cli</code> 会出现权限相关的问题，根据出现的问题google，baidu给出的方案都是无法解决</h5><p>  最终在<strong><a href="https://github.com/hexojs/hexo/issues/913" target="_blank" rel="noopener">hexojs/hexo</a></strong> 中尝试成功. 使用 <code>sudo npm install -g -unsafe-perm hexo</code> 安装成功！随即将容易出现的几个点标记一下，防止下次再犯，也可帮助出现同样问题的童鞋尽快找到答案。</p><h3 id="所有的问题回头看看也没有什么太复杂的，万事开头难。遇到问题需要的还是耐心，有耐心终会找打解决方案！"><a href="#所有的问题回头看看也没有什么太复杂的，万事开头难。遇到问题需要的还是耐心，有耐心终会找打解决方案！" class="headerlink" title="所有的问题回头看看也没有什么太复杂的，万事开头难。遇到问题需要的还是耐心，有耐心终会找打解决方案！"></a>所有的问题回头看看也没有什么太复杂的，万事开头难。遇到问题需要的还是耐心，有耐心终会找打解决方案！</h3><h4 id="使用jacman主题如何自定义多说"><a href="#使用jacman主题如何自定义多说" class="headerlink" title="使用jacman主题如何自定义多说"></a>使用jacman主题如何自定义多说</h4><h5 id="HelloDog的文章中描述啦本地化多说embed-js，但是具体代码块的位置不是很容易找到，再次记录一下。"><a href="#HelloDog的文章中描述啦本地化多说embed-js，但是具体代码块的位置不是很容易找到，再次记录一下。" class="headerlink" title="HelloDog的文章中描述啦本地化多说embed.js，但是具体代码块的位置不是很容易找到，再次记录一下。"></a>HelloDog的文章中描述啦本地化多说embed.js，但是具体代码块的位置不是很容易找到，再次记录一下。</h5><pre><code>/.../themes/jacman/layout/_partial/after_footer.ejs</code></pre><p>  找到其中的多说的js代码修改即可</p><h3 id="参考致谢"><a href="#参考致谢" class="headerlink" title="参考致谢"></a>参考致谢</h3><ol><li><a href="http://wuchong.me/blog/2014/11/20/how-to-use-jacman/" target="_blank" rel="noopener">Jark’s Blog如何使用 Jacman 主题</a></li><li><a href="http://wsgzao.github.io/post/hexo-jacman/" target="_blank" rel="noopener">HelloDog Jacman基于Pacman修改的Hexo主题</a></li><li><a href="http://quantumman.me/blog/setting-up-a-domain-with-gitHub-pages.html" target="_blank" rel="noopener">GitHub Pages 绑定来自阿里云的域名</a></li><li><a href="http://wsgzao.github.io/post/duoshuo/" target="_blank" rel="noopener">多说自定义CSS动感头像和多说评论显示User Agent的那些小事</a></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;在Mac上安装hexo打造个人博客&quot;&gt;&lt;a href=&quot;#在Mac上安装hexo打造个人博客&quot; class=&quot;headerlink&quot; title=&quot;在Mac上安装hexo打造个人博客&quot;&gt;&lt;/a&gt;在Mac上安装hexo打造个人博客&lt;/h2&gt;&lt;blockquote&gt;

      
    
    </summary>
    
      <category term="hexo" scheme="http://www.code4a.com/categories/hexo/"/>
    
    
      <category term="hexo" scheme="http://www.code4a.com/tags/hexo/"/>
    
  </entry>
  
</feed>
